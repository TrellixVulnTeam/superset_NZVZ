{"ast":null,"code":"import _extends from \"@babel/runtime-corejs3/helpers/extends\";import _isNil from \"lodash/isNil\";var _jsxFileName = \"/home/ubuntu/my_plugin/superset/superset-frontend/src/components/Modal/Modal.tsx\";(function () {var enterModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.enterModule : undefined;enterModule && enterModule(module);})();var __signature__ = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default.signature : function (a) {return a;}; /**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport React, { useRef, useState } from 'react';\n\nimport { styled, t } from '@superset-ui/core';\nimport { css } from '@emotion/react';\nimport { Modal as AntdModal } from 'src/common/components';\nimport Button from 'src/components/Button';\nimport { Resizable } from 're-resizable';\nimport Draggable from 'react-draggable';import { jsx as ___EmotionJSX } from \"@emotion/react\";\nconst MODAL_HEADER_HEIGHT = 55;\nconst MODAL_MIN_CONTENT_HEIGHT = 54;\nconst MODAL_FOOTER_HEIGHT = 65;\nconst RESIZABLE_MIN_HEIGHT = MODAL_HEADER_HEIGHT + MODAL_MIN_CONTENT_HEIGHT;\nconst RESIZABLE_MIN_WIDTH = '380px';\nconst RESIZABLE_MAX_HEIGHT = '100vh';\nconst RESIZABLE_MAX_WIDTH = '100vw';\nconst BaseModal = (props) =>\n// Removes mask animation. Fixed in 4.6.0.\n// https://github.com/ant-design/ant-design/issues/27192\n___EmotionJSX(AntdModal, _extends({}, props, { maskTransitionName: \"\", __self: this, __source: { fileName: _jsxFileName, lineNumber: 37, columnNumber: 1 } }));\nexport const StyledModal = styled(BaseModal)`\n  ${({ theme, responsive, maxWidth }) => responsive && /*#__PURE__*/\ncss(\"max-width:\",\nmaxWidth != null ? maxWidth : '900px', \";padding-left:\",\ntheme.gridUnit * 3, \"px;padding-right:\",\ntheme.gridUnit * 3, \"px;\" + (process.env.NODE_ENV === \"production\" ? \"\" : \";label:StyledModal;\"), process.env.NODE_ENV === \"production\" ? \"\" : \"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL3VidW50dS9teV9wbHVnaW4vc3VwZXJzZXQvc3VwZXJzZXQtZnJvbnRlbmQvc3JjL2NvbXBvbmVudHMvTW9kYWwvTW9kYWwudHN4Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQXVDUSIsImZpbGUiOiIvaG9tZS91YnVudHUvbXlfcGx1Z2luL3N1cGVyc2V0L3N1cGVyc2V0LWZyb250ZW5kL3NyYy9jb21wb25lbnRzL01vZGFsL01vZGFsLnRzeCIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogTGljZW5zZWQgdG8gdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0aW9uIChBU0YpIHVuZGVyIG9uZVxuICogb3IgbW9yZSBjb250cmlidXRvciBsaWNlbnNlIGFncmVlbWVudHMuICBTZWUgdGhlIE5PVElDRSBmaWxlXG4gKiBkaXN0cmlidXRlZCB3aXRoIHRoaXMgd29yayBmb3IgYWRkaXRpb25hbCBpbmZvcm1hdGlvblxuICogcmVnYXJkaW5nIGNvcHlyaWdodCBvd25lcnNoaXAuICBUaGUgQVNGIGxpY2Vuc2VzIHRoaXMgZmlsZVxuICogdG8geW91IHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZVxuICogXCJMaWNlbnNlXCIpOyB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlXG4gKiB3aXRoIHRoZSBMaWNlbnNlLiAgWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsXG4gKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhblxuICogXCJBUyBJU1wiIEJBU0lTLCBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTllcbiAqIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuICBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZVxuICogc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZCBsaW1pdGF0aW9uc1xuICogdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbmltcG9ydCBSZWFjdCwgeyB1c2VSZWYsIHVzZVN0YXRlIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgaXNOaWwgfSBmcm9tICdsb2Rhc2gnO1xuaW1wb3J0IHsgc3R5bGVkLCB0IH0gZnJvbSAnQHN1cGVyc2V0LXVpL2NvcmUnO1xuaW1wb3J0IHsgY3NzIH0gZnJvbSAnQGVtb3Rpb24vcmVhY3QnO1xuaW1wb3J0IHsgTW9kYWwgYXMgQW50ZE1vZGFsLCB9IGZyb20gJ3NyYy9jb21tb24vY29tcG9uZW50cyc7XG5pbXBvcnQgQnV0dG9uIGZyb20gJ3NyYy9jb21wb25lbnRzL0J1dHRvbic7XG5pbXBvcnQgeyBSZXNpemFibGUgfSBmcm9tICdyZS1yZXNpemFibGUnO1xuaW1wb3J0IERyYWdnYWJsZSBmcm9tICdyZWFjdC1kcmFnZ2FibGUnO1xuY29uc3QgTU9EQUxfSEVBREVSX0hFSUdIVCA9IDU1O1xuY29uc3QgTU9EQUxfTUlOX0NPTlRFTlRfSEVJR0hUID0gNTQ7XG5jb25zdCBNT0RBTF9GT09URVJfSEVJR0hUID0gNjU7XG5jb25zdCBSRVNJWkFCTEVfTUlOX0hFSUdIVCA9IE1PREFMX0hFQURFUl9IRUlHSFQgKyBNT0RBTF9NSU5fQ09OVEVOVF9IRUlHSFQ7XG5jb25zdCBSRVNJWkFCTEVfTUlOX1dJRFRIID0gJzM4MHB4JztcbmNvbnN0IFJFU0laQUJMRV9NQVhfSEVJR0hUID0gJzEwMHZoJztcbmNvbnN0IFJFU0laQUJMRV9NQVhfV0lEVEggPSAnMTAwdncnO1xuY29uc3QgQmFzZU1vZGFsID0gKHByb3BzKSA9PiAoXG4vLyBSZW1vdmVzIG1hc2sgYW5pbWF0aW9uLiBGaXhlZCBpbiA0LjYuMC5cbi8vIGh0dHBzOi8vZ2l0aHViLmNvbS9hbnQtZGVzaWduL2FudC1kZXNpZ24vaXNzdWVzLzI3MTkyXG48QW50ZE1vZGFsIHsuLi5wcm9wc30gbWFza1RyYW5zaXRpb25OYW1lPVwiXCIvPik7XG5leHBvcnQgY29uc3QgU3R5bGVkTW9kYWwgPSBzdHlsZWQoQmFzZU1vZGFsKSBgXG4gICR7KHsgdGhlbWUsIHJlc3BvbnNpdmUsIG1heFdpZHRoIH0pID0+IHJlc3BvbnNpdmUgJiZcbiAgICBjc3MgYFxuICAgICAgbWF4LXdpZHRoOiAke21heFdpZHRoID8/ICc5MDBweCd9O1xuICAgICAgcGFkZGluZy1sZWZ0OiAke3RoZW1lLmdyaWRVbml0ICogM31weDtcbiAgICAgIHBhZGRpbmctcmlnaHQ6ICR7dGhlbWUuZ3JpZFVuaXQgKiAzfXB4O1xuICAgIGB9XG5cbiAgLmFudC1tb2RhbC1oZWFkZXIge1xuICAgIGJhY2tncm91bmQtY29sb3I6ICR7KHsgdGhlbWUgfSkgPT4gdGhlbWUuY29sb3JzLmdyYXlzY2FsZS5saWdodDR9O1xuICAgIGJvcmRlci1yYWRpdXM6ICR7KHsgdGhlbWUgfSkgPT4gdGhlbWUuYm9yZGVyUmFkaXVzfXB4XG4gICAgICAkeyh7IHRoZW1lIH0pID0+IHRoZW1lLmJvcmRlclJhZGl1c31weCAwIDA7XG4gICAgcGFkZGluZy1sZWZ0OiAkeyh7IHRoZW1lIH0pID0+IHRoZW1lLmdyaWRVbml0ICogNH1weDtcbiAgICBwYWRkaW5nLXJpZ2h0OiAkeyh7IHRoZW1lIH0pID0+IHRoZW1lLmdyaWRVbml0ICogNH1weDtcblxuICAgIC5hbnQtbW9kYWwtdGl0bGUgaDQge1xuICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgIG1hcmdpbjogMDtcbiAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gICAgfVxuICB9XG5cbiAgLmFudC1tb2RhbC1jbG9zZS14IHtcbiAgICBkaXNwbGF5OiBmbGV4O1xuICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG5cbiAgICAuY2xvc2Uge1xuICAgICAgZmxleDogMSAxIGF1dG87XG4gICAgICBtYXJnaW4tYm90dG9tOiAkeyh7IHRoZW1lIH0pID0+IHRoZW1lLmdyaWRVbml0fXB4O1xuICAgICAgY29sb3I6ICR7KHsgdGhlbWUgfSkgPT4gdGhlbWUuY29sb3JzLnNlY29uZGFyeS5kYXJrMX07XG4gICAgICBmb250LXNpemU6IDMycHg7XG4gICAgICBmb250LXdlaWdodDogJHsoeyB0aGVtZSB9KSA9PiB0aGVtZS50eXBvZ3JhcGh5LndlaWdodHMubGlnaHR9O1xuICAgIH1cbiAgfVxuXG4gIC5hbnQtbW9kYWwtYm9keSB7XG4gICAgcGFkZGluZzogJHsoeyB0aGVtZSB9KSA9PiB0aGVtZS5ncmlkVW5pdCAqIDR9cHg7XG4gICAgb3ZlcmZsb3c6IGF1dG87XG4gICAgJHsoeyByZXNpemFibGUsIGhlaWdodCB9KSA9PiAhcmVzaXphYmxlICYmIGhlaWdodCAmJiBgaGVpZ2h0OiAke2hlaWdodH07YH1cbiAgfVxuICAuYW50LW1vZGFsLWZvb3RlciB7XG4gICAgYm9yZGVyLXRvcDogJHsoeyB0aGVtZSB9KSA9PiB0aGVtZS5ncmlkVW5pdCAvIDR9cHggc29saWRcbiAgICAgICR7KHsgdGhlbWUgfSkgPT4gdGhlbWUuY29sb3JzLmdyYXlzY2FsZS5saWdodDJ9O1xuICAgIHBhZGRpbmc6ICR7KHsgdGhlbWUgfSkgPT4gdGhlbWUuZ3JpZFVuaXQgKiA0fXB4O1xuXG4gICAgLmJ0biB7XG4gICAgICBmb250LXNpemU6IDEycHg7XG4gICAgICB0ZXh0LXRyYW5zZm9ybTogdXBwZXJjYXNlO1xuICAgIH1cblxuICAgIC5idG4gKyAuYnRuIHtcbiAgICAgIG1hcmdpbi1sZWZ0OiAkeyh7IHRoZW1lIH0pID0+IHRoZW1lLmdyaWRVbml0ICogMn1weDtcbiAgICB9XG4gIH1cblxuICAvLyBzdHlsaW5nIGZvciBUYWJzIGNvbXBvbmVudFxuICAvLyBBYXJvbiBub3RlIDIwLTExLTE5OiB0aGlzIHNlZW1zIHRvIGJlIGV4Y2x1c2l2ZWx5IGhlcmUgZm9yIHRoZSBFZGl0IERhdGFiYXNlIG1vZGFsLlxuICAvLyBUT0RPOiByZW1vdmUgdGhpcyBhcyBpdCBpcyBhIHNwZWNpYWwgY2FzZS5cbiAgLmFudC10YWJzLXRvcCB7XG4gICAgbWFyZ2luLXRvcDogLSR7KHsgdGhlbWUgfSkgPT4gdGhlbWUuZ3JpZFVuaXQgKiA0fXB4O1xuICB9XG5cbiAgJi5uby1jb250ZW50LXBhZGRpbmcgLmFudC1tb2RhbC1ib2R5IHtcbiAgICBwYWRkaW5nOiAwO1xuICB9XG5cbiAgJHsoeyBkcmFnZ2FibGUsIHRoZW1lIH0pID0+IGRyYWdnYWJsZSAmJlxuICAgIGBcbiAgICAuYW50LW1vZGFsLWhlYWRlciB7XG4gICAgICBwYWRkaW5nOiAwO1xuICAgICAgLmRyYWdnYWJsZS10cmlnZ2VyIHtcbiAgICAgICAgICBjdXJzb3I6IG1vdmU7XG4gICAgICAgICAgcGFkZGluZzogJHt0aGVtZS5ncmlkVW5pdCAqIDR9cHg7XG4gICAgICAgICAgd2lkdGg6IDEwMCU7XG4gICAgICAgIH1cbiAgICB9XG4gIGB9O1xuXG4gICR7KHsgcmVzaXphYmxlLCBoaWRlRm9vdGVyIH0pID0+IHJlc2l6YWJsZSAmJlxuICAgIGBcbiAgICAucmVzaXphYmxlIHtcbiAgICAgIHBvaW50ZXItZXZlbnRzOiBhbGw7XG5cbiAgICAgIC5yZXNpemFibGUtd3JhcHBlciB7XG4gICAgICAgIGhlaWdodDogMTAwJTtcbiAgICAgIH1cblxuICAgICAgLmFudC1tb2RhbC1jb250ZW50IHtcbiAgICAgICAgaGVpZ2h0OiAxMDAlO1xuXG4gICAgICAgIC5hbnQtbW9kYWwtYm9keSB7XG4gICAgICAgICAgLyogMTAwJSAtIGhlYWRlciBoZWlnaHQgLSBmb290ZXIgaGVpZ2h0ICovXG4gICAgICAgICAgaGVpZ2h0OiAke2hpZGVGb290ZXJcbiAgICAgICAgPyBgY2FsYygxMDAlIC0gJHtNT0RBTF9IRUFERVJfSEVJR0hUfXB4KTtgXG4gICAgICAgIDogYGNhbGMoMTAwJSAtICR7TU9EQUxfSEVBREVSX0hFSUdIVH1weCAtICR7TU9EQUxfRk9PVEVSX0hFSUdIVH1weCk7YH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgYH1cbmA7XG5jb25zdCBDdXN0b21Nb2RhbCA9ICh7IGNoaWxkcmVuLCBkaXNhYmxlUHJpbWFyeUJ1dHRvbiA9IGZhbHNlLCBvbkhpZGUsIG9uSGFuZGxlZFByaW1hcnlBY3Rpb24sIHByaW1hcnlCdXR0b25OYW1lID0gdCgnT0snKSwgcHJpbWFyeUJ1dHRvblR5cGUgPSAncHJpbWFyeScsIHNob3csIG5hbWUsIHRpdGxlLCB3aWR0aCwgbWF4V2lkdGgsIHJlc3BvbnNpdmUgPSBmYWxzZSwgY2VudGVyZWQsIGZvb3RlciwgaGlkZUZvb3Rlciwgd3JhcFByb3BzLCBkcmFnZ2FibGUgPSBmYWxzZSwgcmVzaXphYmxlID0gZmFsc2UsIHJlc2l6YWJsZUNvbmZpZyA9IHtcbiAgICBtYXhIZWlnaHQ6IFJFU0laQUJMRV9NQVhfSEVJR0hULFxuICAgIG1heFdpZHRoOiBSRVNJWkFCTEVfTUFYX1dJRFRILFxuICAgIG1pbkhlaWdodDogaGlkZUZvb3RlclxuICAgICAgICA/IFJFU0laQUJMRV9NSU5fSEVJR0hUXG4gICAgICAgIDogUkVTSVpBQkxFX01JTl9IRUlHSFQgKyBNT0RBTF9GT09URVJfSEVJR0hULFxuICAgIG1pbldpZHRoOiBSRVNJWkFCTEVfTUlOX1dJRFRILFxuICAgIGVuYWJsZToge1xuICAgICAgICBib3R0b206IHRydWUsXG4gICAgICAgIGJvdHRvbUxlZnQ6IGZhbHNlLFxuICAgICAgICBib3R0b21SaWdodDogdHJ1ZSxcbiAgICAgICAgbGVmdDogZmFsc2UsXG4gICAgICAgIHRvcDogZmFsc2UsXG4gICAgICAgIHRvcExlZnQ6IGZhbHNlLFxuICAgICAgICB0b3BSaWdodDogZmFsc2UsXG4gICAgICAgIHJpZ2h0OiB0cnVlLFxuICAgIH0sXG59LCBkcmFnZ2FibGVDb25maWcsIGRlc3Ryb3lPbkNsb3NlLCAuLi5yZXN0IH0pID0+IHtcbiAgICBjb25zdCBkcmFnZ2FibGVSZWYgPSB1c2VSZWYobnVsbCk7XG4gICAgY29uc3QgW2JvdW5kcywgc2V0Qm91bmRzXSA9IHVzZVN0YXRlKCk7XG4gICAgY29uc3QgW2RyYWdEaXNhYmxlZCwgc2V0RHJhZ0Rpc2FibGVkXSA9IHVzZVN0YXRlKHRydWUpO1xuICAgIGNvbnN0IG1vZGFsRm9vdGVyID0gaXNOaWwoZm9vdGVyKVxuICAgICAgICA/IFtcbiAgICAgICAgICAgIDxCdXR0b24ga2V5PVwiYmFja1wiIG9uQ2xpY2s9e29uSGlkZX0gY3RhIGRhdGEtdGVzdD1cIm1vZGFsLWNhbmNlbC1idXR0b25cIj5cbiAgICAgICAgICB7dCgnQ2FuY2VsJyl9XG4gICAgICAgIDwvQnV0dG9uPixcbiAgICAgICAgICAgIDxCdXR0b24ga2V5PVwic3VibWl0XCIgYnV0dG9uU3R5bGU9e3ByaW1hcnlCdXR0b25UeXBlfSBkaXNhYmxlZD17ZGlzYWJsZVByaW1hcnlCdXR0b259IG9uQ2xpY2s9e29uSGFuZGxlZFByaW1hcnlBY3Rpb259IGN0YSBkYXRhLXRlc3Q9XCJtb2RhbC1jb25maXJtLWJ1dHRvblwiPlxuICAgICAgICAgIHtwcmltYXJ5QnV0dG9uTmFtZX1cbiAgICAgICAgPC9CdXR0b24+LFxuICAgICAgICBdXG4gICAgICAgIDogZm9vdGVyO1xuICAgIGNvbnN0IG1vZGFsV2lkdGggPSB3aWR0aCB8fCAocmVzcG9uc2l2ZSA/ICcxMDB2dycgOiAnNjAwcHgnKTtcbiAgICBjb25zdCBzaG91bGRTaG93TWFzayA9ICEocmVzaXphYmxlIHx8IGRyYWdnYWJsZSk7XG4gICAgY29uc3Qgb25EcmFnU3RhcnQgPSAoXywgdWlEYXRhKSA9PiB7XG4gICAgICAgIGNvbnN0IHsgY2xpZW50V2lkdGgsIGNsaWVudEhlaWdodCB9ID0gd2luZG93Py5kb2N1bWVudD8uZG9jdW1lbnRFbGVtZW50O1xuICAgICAgICBjb25zdCB0YXJnZXRSZWN0ID0gZHJhZ2dhYmxlUmVmPy5jdXJyZW50Py5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgICAgaWYgKHRhcmdldFJlY3QpIHtcbiAgICAgICAgICAgIHNldEJvdW5kcyh7XG4gICAgICAgICAgICAgICAgbGVmdDogLXRhcmdldFJlY3Q/LmxlZnQgKyB1aURhdGE/LngsXG4gICAgICAgICAgICAgICAgcmlnaHQ6IGNsaWVudFdpZHRoIC0gKHRhcmdldFJlY3Q/LnJpZ2h0IC0gdWlEYXRhPy54KSxcbiAgICAgICAgICAgICAgICB0b3A6IC10YXJnZXRSZWN0Py50b3AgKyB1aURhdGE/LnksXG4gICAgICAgICAgICAgICAgYm90dG9tOiBjbGllbnRIZWlnaHQgLSAodGFyZ2V0UmVjdD8uYm90dG9tIC0gdWlEYXRhPy55KSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBjb25zdCBNb2RhbFRpdGxlID0gKCkgPT4gZHJhZ2dhYmxlID8gKDxkaXYgY2xhc3NOYW1lPVwiZHJhZ2dhYmxlLXRyaWdnZXJcIiBvbk1vdXNlT3Zlcj17KCkgPT4gZHJhZ0Rpc2FibGVkICYmIHNldERyYWdEaXNhYmxlZChmYWxzZSl9IG9uTW91c2VPdXQ9eygpID0+ICFkcmFnRGlzYWJsZWQgJiYgc2V0RHJhZ0Rpc2FibGVkKHRydWUpfT5cbiAgICAgICAge3RpdGxlfVxuICAgICAgPC9kaXY+KSA6ICg8Pnt0aXRsZX08Lz4pO1xuICAgIHJldHVybiAoPFN0eWxlZE1vZGFsIGNlbnRlcmVkPXshIWNlbnRlcmVkfSBvbk9rPXtvbkhhbmRsZWRQcmltYXJ5QWN0aW9ufSBvbkNhbmNlbD17b25IaWRlfSB3aWR0aD17bW9kYWxXaWR0aH0gbWF4V2lkdGg9e21heFdpZHRofSByZXNwb25zaXZlPXtyZXNwb25zaXZlfSB2aXNpYmxlPXtzaG93fSB0aXRsZT17PE1vZGFsVGl0bGUgLz59IGNsb3NlSWNvbj17PHNwYW4gY2xhc3NOYW1lPVwiY2xvc2VcIiBhcmlhLWhpZGRlbj1cInRydWVcIj5cbiAgICAgICAgICDDl1xuICAgICAgICA8L3NwYW4+fSBmb290ZXI9eyFoaWRlRm9vdGVyID8gbW9kYWxGb290ZXIgOiBudWxsfSBoaWRlRm9vdGVyPXtoaWRlRm9vdGVyfSB3cmFwUHJvcHM9e3sgJ2RhdGEtdGVzdCc6IGAke25hbWUgfHwgdGl0bGV9LW1vZGFsYCwgLi4ud3JhcFByb3BzIH19IG1vZGFsUmVuZGVyPXttb2RhbCA9PiByZXNpemFibGUgfHwgZHJhZ2dhYmxlID8gKDxEcmFnZ2FibGUgZGlzYWJsZWQ9eyFkcmFnZ2FibGUgfHwgZHJhZ0Rpc2FibGVkfSBib3VuZHM9e2JvdW5kc30gb25TdGFydD17KGV2ZW50LCB1aURhdGEpID0+IG9uRHJhZ1N0YXJ0KGV2ZW50LCB1aURhdGEpfSB7Li4uZHJhZ2dhYmxlQ29uZmlnfT5cbiAgICAgICAgICAgIHtyZXNpemFibGUgPyAoPFJlc2l6YWJsZSBjbGFzc05hbWU9XCJyZXNpemFibGVcIiB7Li4ucmVzaXphYmxlQ29uZmlnfT5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJlc2l6YWJsZS13cmFwcGVyXCIgcmVmPXtkcmFnZ2FibGVSZWZ9PlxuICAgICAgICAgICAgICAgICAge21vZGFsfVxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8L1Jlc2l6YWJsZT4pIDogKDxkaXYgcmVmPXtkcmFnZ2FibGVSZWZ9Pnttb2RhbH08L2Rpdj4pfVxuICAgICAgICAgIDwvRHJhZ2dhYmxlPikgOiAobW9kYWwpfSBtYXNrPXtzaG91bGRTaG93TWFza30gZHJhZ2dhYmxlPXtkcmFnZ2FibGV9IHJlc2l6YWJsZT17cmVzaXphYmxlfSBkZXN0cm95T25DbG9zZT17ZGVzdHJveU9uQ2xvc2UgfHwgcmVzaXphYmxlIHx8IGRyYWdnYWJsZX0gey4uLnJlc3R9PlxuICAgICAge2NoaWxkcmVufVxuICAgIDwvU3R5bGVkTW9kYWw+KTtcbn07XG5DdXN0b21Nb2RhbC5kaXNwbGF5TmFtZSA9ICdNb2RhbCc7XG4vLyBUT0RPOiBpbiBhbm90aGVyIFBSLCByZW5hbWUgdGhpcyB0byBDb21wYXRhYmlsaXR5TW9kYWxcbi8vIGFuZCBkZW1vdGUgaXQgYXMgdGhlIGRlZmF1bHQgZXhwb3J0LlxuLy8gV2Ugc2hvdWxkIHN0YXJ0IHVzaW5nIEFudEQgY29tcG9uZW50IGludGVyZmFjZXMgZ29pbmcgZm9yd2FyZC5cbmNvbnN0IE1vZGFsID0gT2JqZWN0LmFzc2lnbihDdXN0b21Nb2RhbCwge1xuICAgIGVycm9yOiBBbnRkTW9kYWwuZXJyb3IsXG4gICAgd2FybmluZzogQW50ZE1vZGFsLndhcm5pbmcsXG4gICAgY29uZmlybTogQW50ZE1vZGFsLmNvbmZpcm0sXG4gICAgdXNlTW9kYWw6IEFudGRNb2RhbC51c2VNb2RhbCxcbn0pO1xuZXhwb3J0IGRlZmF1bHQgTW9kYWw7XG4iXX0= */\")\n}\n\n  .ant-modal-header {\n    background-color: ${({ theme }) => theme.colors.grayscale.light4};\n    border-radius: ${({ theme }) => theme.borderRadius}px\n      ${({ theme }) => theme.borderRadius}px 0 0;\n    padding-left: ${({ theme }) => theme.gridUnit * 4}px;\n    padding-right: ${({ theme }) => theme.gridUnit * 4}px;\n\n    .ant-modal-title h4 {\n      display: flex;\n      margin: 0;\n      align-items: center;\n    }\n  }\n\n  .ant-modal-close-x {\n    display: flex;\n    align-items: center;\n\n    .close {\n      flex: 1 1 auto;\n      margin-bottom: ${({ theme }) => theme.gridUnit}px;\n      color: ${({ theme }) => theme.colors.secondary.dark1};\n      font-size: 32px;\n      font-weight: ${({ theme }) => theme.typography.weights.light};\n    }\n  }\n\n  .ant-modal-body {\n    padding: ${({ theme }) => theme.gridUnit * 4}px;\n    overflow: auto;\n    ${({ resizable, height }) => !resizable && height && `height: ${height};`}\n  }\n  .ant-modal-footer {\n    border-top: ${({ theme }) => theme.gridUnit / 4}px solid\n      ${({ theme }) => theme.colors.grayscale.light2};\n    padding: ${({ theme }) => theme.gridUnit * 4}px;\n\n    .btn {\n      font-size: 12px;\n      text-transform: uppercase;\n    }\n\n    .btn + .btn {\n      margin-left: ${({ theme }) => theme.gridUnit * 2}px;\n    }\n  }\n\n  // styling for Tabs component\n  // Aaron note 20-11-19: this seems to be exclusively here for the Edit Database modal.\n  // TODO: remove this as it is a special case.\n  .ant-tabs-top {\n    margin-top: -${({ theme }) => theme.gridUnit * 4}px;\n  }\n\n  &.no-content-padding .ant-modal-body {\n    padding: 0;\n  }\n\n  ${({ draggable, theme }) => draggable &&\n`\n    .ant-modal-header {\n      padding: 0;\n      .draggable-trigger {\n          cursor: move;\n          padding: ${theme.gridUnit * 4}px;\n          width: 100%;\n        }\n    }\n  `};\n\n  ${({ resizable, hideFooter }) => resizable &&\n`\n    .resizable {\n      pointer-events: all;\n\n      .resizable-wrapper {\n        height: 100%;\n      }\n\n      .ant-modal-content {\n        height: 100%;\n\n        .ant-modal-body {\n          /* 100% - header height - footer height */\n          height: ${hideFooter ?\n`calc(100% - ${MODAL_HEADER_HEIGHT}px);` :\n`calc(100% - ${MODAL_HEADER_HEIGHT}px - ${MODAL_FOOTER_HEIGHT}px);`}\n        }\n      }\n    }\n  `}\n`;\nconst CustomModal = ({ children, disablePrimaryButton = false, onHide, onHandledPrimaryAction, primaryButtonName = t('OK'), primaryButtonType = 'primary', show, name, title, width, maxWidth, responsive = false, centered, footer, hideFooter, wrapProps, draggable = false, resizable = false, resizableConfig = {\n    maxHeight: RESIZABLE_MAX_HEIGHT,\n    maxWidth: RESIZABLE_MAX_WIDTH,\n    minHeight: hideFooter ?\n    RESIZABLE_MIN_HEIGHT :\n    RESIZABLE_MIN_HEIGHT + MODAL_FOOTER_HEIGHT,\n    minWidth: RESIZABLE_MIN_WIDTH,\n    enable: {\n      bottom: true,\n      bottomLeft: false,\n      bottomRight: true,\n      left: false,\n      top: false,\n      topLeft: false,\n      topRight: false,\n      right: true } },\n\n  draggableConfig, destroyOnClose, ...rest }) => {\n  const draggableRef = useRef(null);\n  const [bounds, setBounds] = useState();\n  const [dragDisabled, setDragDisabled] = useState(true);\n  const modalFooter = _isNil(footer) ?\n  [\n  ___EmotionJSX(Button, { key: \"back\", onClick: onHide, cta: true, \"data-test\": \"modal-cancel-button\", __self: this, __source: { fileName: _jsxFileName, lineNumber: 161, columnNumber: 13 } },\n  t('Cancel')),\n\n  ___EmotionJSX(Button, { key: \"submit\", buttonStyle: primaryButtonType, disabled: disablePrimaryButton, onClick: onHandledPrimaryAction, cta: true, \"data-test\": \"modal-confirm-button\", __self: this, __source: { fileName: _jsxFileName, lineNumber: 164, columnNumber: 13 } },\n  primaryButtonName)] :\n\n\n  footer;\n  const modalWidth = width || (responsive ? '100vw' : '600px');\n  const shouldShowMask = !(resizable || draggable);\n  const onDragStart = (_, uiData) => {var _window, _window$document, _draggableRef$current;\n    const { clientWidth, clientHeight } = (_window = window) == null ? void 0 : (_window$document = _window.document) == null ? void 0 : _window$document.documentElement;\n    const targetRect = draggableRef == null ? void 0 : (_draggableRef$current = draggableRef.current) == null ? void 0 : _draggableRef$current.getBoundingClientRect();\n    if (targetRect) {\n      setBounds({\n        left: -(targetRect == null ? void 0 : targetRect.left) + (uiData == null ? void 0 : uiData.x),\n        right: clientWidth - ((targetRect == null ? void 0 : targetRect.right) - (uiData == null ? void 0 : uiData.x)),\n        top: -(targetRect == null ? void 0 : targetRect.top) + (uiData == null ? void 0 : uiData.y),\n        bottom: clientHeight - ((targetRect == null ? void 0 : targetRect.bottom) - (uiData == null ? void 0 : uiData.y)) });\n\n    }\n  };\n  const ModalTitle = () => draggable ? ___EmotionJSX(\"div\", { className: \"draggable-trigger\", onMouseOver: () => dragDisabled && setDragDisabled(false), onMouseOut: () => !dragDisabled && setDragDisabled(true), __self: this, __source: { fileName: _jsxFileName, lineNumber: 183, columnNumber: 43 } },\n  title) :\n  ___EmotionJSX(React.Fragment, null, title);\n  return ___EmotionJSX(StyledModal, _extends({ centered: !!centered, onOk: onHandledPrimaryAction, onCancel: onHide, width: modalWidth, maxWidth: maxWidth, responsive: responsive, visible: show, title: ___EmotionJSX(ModalTitle, { __self: this, __source: { fileName: _jsxFileName, lineNumber: 186, columnNumber: 181 } }), closeIcon: ___EmotionJSX(\"span\", { className: \"close\", \"aria-hidden\": \"true\", __self: this, __source: { fileName: _jsxFileName, lineNumber: 186, columnNumber: 208 } }, \"\\xD7\"),\n\n    footer: !hideFooter ? modalFooter : null, hideFooter: hideFooter, wrapProps: { 'data-test': `${name || title}-modal`, ...wrapProps }, modalRender: (modal) => resizable || draggable ? ___EmotionJSX(Draggable, _extends({ disabled: !draggable || dragDisabled, bounds: bounds, onStart: (event, uiData) => onDragStart(event, uiData) }, draggableConfig, { __self: this, __source: { fileName: _jsxFileName, lineNumber: 188, columnNumber: 200 } }),\n    resizable ? ___EmotionJSX(Resizable, _extends({ className: \"resizable\" }, resizableConfig, { __self: this, __source: { fileName: _jsxFileName, lineNumber: 189, columnNumber: 27 } }),\n    ___EmotionJSX(\"div\", { className: \"resizable-wrapper\", ref: draggableRef, __self: this, __source: { fileName: _jsxFileName, lineNumber: 190, columnNumber: 17 } },\n    modal)) :\n\n    ___EmotionJSX(\"div\", { ref: draggableRef, __self: this, __source: { fileName: _jsxFileName, lineNumber: 193, columnNumber: 32 } }, modal)) :\n    modal, mask: shouldShowMask, draggable: draggable, resizable: resizable, destroyOnClose: destroyOnClose || resizable || draggable }, rest, { __self: this, __source: { fileName: _jsxFileName, lineNumber: 186, columnNumber: 13 } }),\n  children);\n\n};__signature__(CustomModal, \"useRef{draggableRef}\\nuseState{[bounds, setBounds]}\\nuseState{[dragDisabled, setDragDisabled](true)}\");\nCustomModal.displayName = 'Modal';\n// TODO: in another PR, rename this to CompatabilityModal\n// and demote it as the default export.\n// We should start using AntD component interfaces going forward.\nconst Modal = Object.assign(CustomModal, {\n  error: AntdModal.error,\n  warning: AntdModal.warning,\n  confirm: AntdModal.confirm,\n  useModal: AntdModal.useModal });const _default =\n\nModal;export default _default;;(function () {var reactHotLoader = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default : undefined;if (!reactHotLoader) {return;}reactHotLoader.register(MODAL_HEADER_HEIGHT, \"MODAL_HEADER_HEIGHT\", \"/home/ubuntu/my_plugin/superset/superset-frontend/src/components/Modal/Modal.tsx\");reactHotLoader.register(MODAL_MIN_CONTENT_HEIGHT, \"MODAL_MIN_CONTENT_HEIGHT\", \"/home/ubuntu/my_plugin/superset/superset-frontend/src/components/Modal/Modal.tsx\");reactHotLoader.register(MODAL_FOOTER_HEIGHT, \"MODAL_FOOTER_HEIGHT\", \"/home/ubuntu/my_plugin/superset/superset-frontend/src/components/Modal/Modal.tsx\");reactHotLoader.register(RESIZABLE_MIN_HEIGHT, \"RESIZABLE_MIN_HEIGHT\", \"/home/ubuntu/my_plugin/superset/superset-frontend/src/components/Modal/Modal.tsx\");reactHotLoader.register(RESIZABLE_MIN_WIDTH, \"RESIZABLE_MIN_WIDTH\", \"/home/ubuntu/my_plugin/superset/superset-frontend/src/components/Modal/Modal.tsx\");reactHotLoader.register(RESIZABLE_MAX_HEIGHT, \"RESIZABLE_MAX_HEIGHT\", \"/home/ubuntu/my_plugin/superset/superset-frontend/src/components/Modal/Modal.tsx\");reactHotLoader.register(RESIZABLE_MAX_WIDTH, \"RESIZABLE_MAX_WIDTH\", \"/home/ubuntu/my_plugin/superset/superset-frontend/src/components/Modal/Modal.tsx\");reactHotLoader.register(BaseModal, \"BaseModal\", \"/home/ubuntu/my_plugin/superset/superset-frontend/src/components/Modal/Modal.tsx\");reactHotLoader.register(StyledModal, \"StyledModal\", \"/home/ubuntu/my_plugin/superset/superset-frontend/src/components/Modal/Modal.tsx\");reactHotLoader.register(CustomModal, \"CustomModal\", \"/home/ubuntu/my_plugin/superset/superset-frontend/src/components/Modal/Modal.tsx\");reactHotLoader.register(Modal, \"Modal\", \"/home/ubuntu/my_plugin/superset/superset-frontend/src/components/Modal/Modal.tsx\");reactHotLoader.register(_default, \"default\", \"/home/ubuntu/my_plugin/superset/superset-frontend/src/components/Modal/Modal.tsx\");})();;(function () {var leaveModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.leaveModule : undefined;leaveModule && leaveModule(module);})();","map":{"version":3,"sources":["/home/ubuntu/my_plugin/superset/superset-frontend/src/components/Modal/Modal.tsx"],"names":[],"mappings":"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","sourcesContent":["/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport React, { useRef, useState } from 'react';\nimport { isNil } from 'lodash';\nimport { styled, t } from '@superset-ui/core';\nimport { css } from '@emotion/react';\nimport {\n  Modal as AntdModal,\n  ModalProps as AntdModalProps,\n} from 'src/common/components';\nimport Button from 'src/components/Button';\nimport { Resizable, ResizableProps } from 're-resizable';\nimport Draggable, {\n  DraggableBounds,\n  DraggableData,\n  DraggableEvent,\n  DraggableProps,\n} from 'react-draggable';\n\nexport interface ModalProps {\n  className?: string;\n  children: React.ReactNode;\n  disablePrimaryButton?: boolean;\n  onHide: () => void;\n  onHandledPrimaryAction?: () => void;\n  primaryButtonName?: string;\n  primaryButtonType?: 'primary' | 'danger';\n  show: boolean;\n  name?: string;\n  title: React.ReactNode;\n  width?: string;\n  maxWidth?: string;\n  responsive?: boolean;\n  hideFooter?: boolean;\n  centered?: boolean;\n  footer?: React.ReactNode;\n  wrapProps?: object;\n  height?: string;\n  closable?: boolean;\n  resizable?: boolean;\n  resizableConfig?: ResizableProps;\n  draggable?: boolean;\n  draggableConfig?: DraggableProps;\n  destroyOnClose?: boolean;\n}\n\ninterface StyledModalProps {\n  maxWidth?: string;\n  responsive?: boolean;\n  height?: string;\n  hideFooter?: boolean;\n  draggable?: boolean;\n  resizable?: boolean;\n}\n\nconst MODAL_HEADER_HEIGHT = 55;\nconst MODAL_MIN_CONTENT_HEIGHT = 54;\nconst MODAL_FOOTER_HEIGHT = 65;\n\nconst RESIZABLE_MIN_HEIGHT = MODAL_HEADER_HEIGHT + MODAL_MIN_CONTENT_HEIGHT;\nconst RESIZABLE_MIN_WIDTH = '380px';\nconst RESIZABLE_MAX_HEIGHT = '100vh';\nconst RESIZABLE_MAX_WIDTH = '100vw';\n\nconst BaseModal = (props: AntdModalProps) => (\n  // Removes mask animation. Fixed in 4.6.0.\n  // https://github.com/ant-design/ant-design/issues/27192\n  <AntdModal {...props} maskTransitionName=\"\" />\n);\n\nexport const StyledModal = styled(BaseModal)<StyledModalProps>`\n  ${({ theme, responsive, maxWidth }) =>\n    responsive &&\n    css`\n      max-width: ${maxWidth ?? '900px'};\n      padding-left: ${theme.gridUnit * 3}px;\n      padding-right: ${theme.gridUnit * 3}px;\n    `}\n\n  .ant-modal-header {\n    background-color: ${({ theme }) => theme.colors.grayscale.light4};\n    border-radius: ${({ theme }) => theme.borderRadius}px\n      ${({ theme }) => theme.borderRadius}px 0 0;\n    padding-left: ${({ theme }) => theme.gridUnit * 4}px;\n    padding-right: ${({ theme }) => theme.gridUnit * 4}px;\n\n    .ant-modal-title h4 {\n      display: flex;\n      margin: 0;\n      align-items: center;\n    }\n  }\n\n  .ant-modal-close-x {\n    display: flex;\n    align-items: center;\n\n    .close {\n      flex: 1 1 auto;\n      margin-bottom: ${({ theme }) => theme.gridUnit}px;\n      color: ${({ theme }) => theme.colors.secondary.dark1};\n      font-size: 32px;\n      font-weight: ${({ theme }) => theme.typography.weights.light};\n    }\n  }\n\n  .ant-modal-body {\n    padding: ${({ theme }) => theme.gridUnit * 4}px;\n    overflow: auto;\n    ${({ resizable, height }) => !resizable && height && `height: ${height};`}\n  }\n  .ant-modal-footer {\n    border-top: ${({ theme }) => theme.gridUnit / 4}px solid\n      ${({ theme }) => theme.colors.grayscale.light2};\n    padding: ${({ theme }) => theme.gridUnit * 4}px;\n\n    .btn {\n      font-size: 12px;\n      text-transform: uppercase;\n    }\n\n    .btn + .btn {\n      margin-left: ${({ theme }) => theme.gridUnit * 2}px;\n    }\n  }\n\n  // styling for Tabs component\n  // Aaron note 20-11-19: this seems to be exclusively here for the Edit Database modal.\n  // TODO: remove this as it is a special case.\n  .ant-tabs-top {\n    margin-top: -${({ theme }) => theme.gridUnit * 4}px;\n  }\n\n  &.no-content-padding .ant-modal-body {\n    padding: 0;\n  }\n\n  ${({ draggable, theme }) =>\n    draggable &&\n    `\n    .ant-modal-header {\n      padding: 0;\n      .draggable-trigger {\n          cursor: move;\n          padding: ${theme.gridUnit * 4}px;\n          width: 100%;\n        }\n    }\n  `};\n\n  ${({ resizable, hideFooter }) =>\n    resizable &&\n    `\n    .resizable {\n      pointer-events: all;\n\n      .resizable-wrapper {\n        height: 100%;\n      }\n\n      .ant-modal-content {\n        height: 100%;\n\n        .ant-modal-body {\n          /* 100% - header height - footer height */\n          height: ${\n            hideFooter\n              ? `calc(100% - ${MODAL_HEADER_HEIGHT}px);`\n              : `calc(100% - ${MODAL_HEADER_HEIGHT}px - ${MODAL_FOOTER_HEIGHT}px);`\n          }\n        }\n      }\n    }\n  `}\n`;\n\nconst CustomModal = ({\n  children,\n  disablePrimaryButton = false,\n  onHide,\n  onHandledPrimaryAction,\n  primaryButtonName = t('OK'),\n  primaryButtonType = 'primary',\n  show,\n  name,\n  title,\n  width,\n  maxWidth,\n  responsive = false,\n  centered,\n  footer,\n  hideFooter,\n  wrapProps,\n  draggable = false,\n  resizable = false,\n  resizableConfig = {\n    maxHeight: RESIZABLE_MAX_HEIGHT,\n    maxWidth: RESIZABLE_MAX_WIDTH,\n    minHeight: hideFooter\n      ? RESIZABLE_MIN_HEIGHT\n      : RESIZABLE_MIN_HEIGHT + MODAL_FOOTER_HEIGHT,\n    minWidth: RESIZABLE_MIN_WIDTH,\n    enable: {\n      bottom: true,\n      bottomLeft: false,\n      bottomRight: true,\n      left: false,\n      top: false,\n      topLeft: false,\n      topRight: false,\n      right: true,\n    },\n  },\n  draggableConfig,\n  destroyOnClose,\n  ...rest\n}: ModalProps) => {\n  const draggableRef = useRef<HTMLDivElement>(null);\n  const [bounds, setBounds] = useState<DraggableBounds>();\n  const [dragDisabled, setDragDisabled] = useState<boolean>(true);\n  const modalFooter = isNil(footer)\n    ? [\n        <Button key=\"back\" onClick={onHide} cta data-test=\"modal-cancel-button\">\n          {t('Cancel')}\n        </Button>,\n        <Button\n          key=\"submit\"\n          buttonStyle={primaryButtonType}\n          disabled={disablePrimaryButton}\n          onClick={onHandledPrimaryAction}\n          cta\n          data-test=\"modal-confirm-button\"\n        >\n          {primaryButtonName}\n        </Button>,\n      ]\n    : footer;\n\n  const modalWidth = width || (responsive ? '100vw' : '600px');\n  const shouldShowMask = !(resizable || draggable);\n\n  const onDragStart = (_: DraggableEvent, uiData: DraggableData) => {\n    const { clientWidth, clientHeight } = window?.document?.documentElement;\n    const targetRect = draggableRef?.current?.getBoundingClientRect();\n\n    if (targetRect) {\n      setBounds({\n        left: -targetRect?.left + uiData?.x,\n        right: clientWidth - (targetRect?.right - uiData?.x),\n        top: -targetRect?.top + uiData?.y,\n        bottom: clientHeight - (targetRect?.bottom - uiData?.y),\n      });\n    }\n  };\n\n  const ModalTitle = () =>\n    draggable ? (\n      <div\n        className=\"draggable-trigger\"\n        onMouseOver={() => dragDisabled && setDragDisabled(false)}\n        onMouseOut={() => !dragDisabled && setDragDisabled(true)}\n      >\n        {title}\n      </div>\n    ) : (\n      <>{title}</>\n    );\n\n  return (\n    <StyledModal\n      centered={!!centered}\n      onOk={onHandledPrimaryAction}\n      onCancel={onHide}\n      width={modalWidth}\n      maxWidth={maxWidth}\n      responsive={responsive}\n      visible={show}\n      title={<ModalTitle />}\n      closeIcon={\n        <span className=\"close\" aria-hidden=\"true\">\n          ×\n        </span>\n      }\n      footer={!hideFooter ? modalFooter : null}\n      hideFooter={hideFooter}\n      wrapProps={{ 'data-test': `${name || title}-modal`, ...wrapProps }}\n      modalRender={modal =>\n        resizable || draggable ? (\n          <Draggable\n            disabled={!draggable || dragDisabled}\n            bounds={bounds}\n            onStart={(event, uiData) => onDragStart(event, uiData)}\n            {...draggableConfig}\n          >\n            {resizable ? (\n              <Resizable className=\"resizable\" {...resizableConfig}>\n                <div className=\"resizable-wrapper\" ref={draggableRef}>\n                  {modal}\n                </div>\n              </Resizable>\n            ) : (\n              <div ref={draggableRef}>{modal}</div>\n            )}\n          </Draggable>\n        ) : (\n          modal\n        )\n      }\n      mask={shouldShowMask}\n      draggable={draggable}\n      resizable={resizable}\n      destroyOnClose={destroyOnClose || resizable || draggable}\n      {...rest}\n    >\n      {children}\n    </StyledModal>\n  );\n};\nCustomModal.displayName = 'Modal';\n\n// TODO: in another PR, rename this to CompatabilityModal\n// and demote it as the default export.\n// We should start using AntD component interfaces going forward.\nconst Modal = Object.assign(CustomModal, {\n  error: AntdModal.error,\n  warning: AntdModal.warning,\n  confirm: AntdModal.confirm,\n  useModal: AntdModal.useModal,\n});\n\nexport default Modal;\n"],"sourceRoot":""},"metadata":{},"sourceType":"module"}