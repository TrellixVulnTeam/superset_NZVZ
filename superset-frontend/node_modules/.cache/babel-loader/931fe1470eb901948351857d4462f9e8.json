{"ast":null,"code":"import _extends from \"@babel/runtime-corejs3/helpers/extends\";var _jsxFileName = \"/home/ubuntu/my_plugin/superset/superset-frontend/src/components/ErrorMessage/DatabaseErrorMessage.tsx\";(function () {var enterModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.enterModule : undefined;enterModule && enterModule(module);})();var __signature__ = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default.signature : function (a) {return a;}; /**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport React from 'react';\nimport { t, tn } from '@superset-ui/core';\nimport IssueCode from './IssueCode';\nimport ErrorAlert from './ErrorAlert';import { jsx as ___EmotionJSX } from \"@emotion/react\";\nfunction DatabaseErrorMessage({ error, source = 'dashboard', subtitle }) {\n  const { extra, level, message } = error;\n  const isVisualization = ['dashboard', 'explore'].includes(source);\n  const body = extra && ___EmotionJSX(React.Fragment, null,\n  ___EmotionJSX(\"p\", { __self: this, __source: { fileName: _jsxFileName, lineNumber: 27, columnNumber: 7 } },\n  t('This may be triggered by:'),\n  ___EmotionJSX(\"br\", { __self: this, __source: { fileName: _jsxFileName, lineNumber: 29, columnNumber: 9 } }),\n  extra.issue_codes.\n  map((issueCode) => ___EmotionJSX(IssueCode, _extends({}, issueCode, { key: issueCode.code, __self: this, __source: { fileName: _jsxFileName, lineNumber: 31, columnNumber: 32 } }))).\n  reduce((prev, curr) => [prev, ___EmotionJSX(\"br\", { __self: this, __source: { fileName: _jsxFileName, lineNumber: 32, columnNumber: 44 } }), curr])),\n\n  isVisualization && extra.owners && ___EmotionJSX(React.Fragment, null,\n  ___EmotionJSX(\"br\", { __self: this, __source: { fileName: _jsxFileName, lineNumber: 35, columnNumber: 11 } }),\n  ___EmotionJSX(\"p\", { __self: this, __source: { fileName: _jsxFileName, lineNumber: 36, columnNumber: 11 } },\n  tn('Please reach out to the Chart Owner for assistance.', 'Please reach out to the Chart Owners for assistance.', extra.owners.length)),\n\n  ___EmotionJSX(\"p\", { __self: this, __source: { fileName: _jsxFileName, lineNumber: 39, columnNumber: 11 } },\n  tn('Chart Owner: %s', 'Chart Owners: %s', extra.owners.length, extra.owners.join(', ')))));\n\n\n\n  const copyText = extra && extra.issue_codes ?\n  `${message}\n${t('This may be triggered by:')}\n${extra.issue_codes.map((issueCode) => issueCode.message).join('\\n')}` :\n  message;\n  return ___EmotionJSX(ErrorAlert, { title: t('%s Error', extra && extra.engine_name || t('DB engine')), subtitle: subtitle, level: level, source: source, copyText: copyText, body: body, __self: this, __source: { fileName: _jsxFileName, lineNumber: 49, columnNumber: 13 } });\n}const _default =\nDatabaseErrorMessage;export default _default;;(function () {var reactHotLoader = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default : undefined;if (!reactHotLoader) {return;}reactHotLoader.register(DatabaseErrorMessage, \"DatabaseErrorMessage\", \"/home/ubuntu/my_plugin/superset/superset-frontend/src/components/ErrorMessage/DatabaseErrorMessage.tsx\");reactHotLoader.register(_default, \"default\", \"/home/ubuntu/my_plugin/superset/superset-frontend/src/components/ErrorMessage/DatabaseErrorMessage.tsx\");})();;(function () {var leaveModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.leaveModule : undefined;leaveModule && leaveModule(module);})();","map":{"version":3,"sources":["/home/ubuntu/my_plugin/superset/superset-frontend/src/components/ErrorMessage/DatabaseErrorMessage.tsx"],"names":[],"mappings":"keAAA;;;;;;;;;;;;;;;;;AAiBG;AACH,OAAO,KAAP,MAAkB,OAAlB;AACA,SAAS,CAAT,EAAY,EAAZ,QAAsB,mBAAtB;AAGA,OAAO,SAAP,MAAsB,aAAtB;AACA,OAAO,UAAP,MAAuB,cAAvB,C;AAWA,SAAS,oBAAT,CAA8B,EAC5B,KAD4B,EAE5B,MAAM,GAAG,WAFmB,EAG5B,QAH4B,EAA9B,EAIiD;AAC/C,QAAM,EAAE,KAAF,EAAS,KAAT,EAAgB,OAAhB,KAA4B,KAAlC;AAEA,QAAM,eAAe,GAAG,CAAC,WAAD,EAAc,SAAd,EAAyB,QAAzB,CAAkC,MAAlC,CAAxB;AAEA,QAAM,IAAI,GAAG,KAAK,IAChB;AACE;AACG,EAAA,CAAC,CAAC,2BAAD,CADJ;AAEE,8GAFF;AAGG,EAAA,KAAK,CAAC,WAAN;AACE,EAAA,GADF,CACuB,CAAA,SAAS,KAC7B,cAAC,SAAD,eAAe,SAAf,IAA0B,GAAG,EAAE,SAAS,CAAC,IAAzC,0FAFH;AAIE,EAAA,MAJF,CAIS,CAAC,IAAD,EAAO,IAAP,KAAgB,CAAC,IAAD,EAAO,6GAAP,EAAe,IAAf,CAJzB,CAHH,CADF;;AAUG,EAAA,eAAe,IAAI,KAAK,CAAC,MAAzB,IACC;AACE,+GADF;AAEE;AACG,EAAA,EAAE,CACD,qDADC,EAED,sDAFC,EAGD,KAAK,CAAC,MAAN,CAAa,MAHZ,CADL,CAFF;;AASE;AACG,EAAA,EAAE,CACD,iBADC,EAED,kBAFC,EAGD,KAAK,CAAC,MAAN,CAAa,MAHZ,EAID,KAAK,CAAC,MAAN,CAAa,IAAb,CAAkB,IAAlB,CAJC,CADL,CATF,CAXJ,CADF;;;;AAkCA,QAAM,QAAQ,GACZ,KAAK,IAAI,KAAK,CAAC,WAAf;AACI,KAAG,OAAO;EAChB,CAAC,CAAC,2BAAD,CAA6B;EAC9B,KAAK,CAAC,WAAN,CAAkB,GAAlB,CAAsB,CAAA,SAAS,KAAI,SAAS,CAAC,OAA7C,EAAsD,IAAtD,CAA2D,IAA3D,CAAgE,EAH9D;AAII,EAAA,OALN;AAOA,SACE,cAAC,UAAD,IACE,KAAK,EAAE,CAAC,CAAC,UAAD,EAAc,KAAK,IAAI,KAAK,CAAC,WAAhB,IAAgC,CAAC,CAAC,WAAD,CAA9C,CADV,EAEE,QAAQ,EAAE,QAFZ,EAGE,KAAK,EAAE,KAHT,EAIE,MAAM,EAAE,MAJV,EAKE,QAAQ,EAAE,QALZ,EAME,IAAI,EAAE,IANR,yFADF;AAUD,C;AAEc,oB,CAAf,wB,iLA9DS,oB","sourcesContent":["/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport React from 'react';\nimport { t, tn } from '@superset-ui/core';\n\nimport { ErrorMessageComponentProps } from './types';\nimport IssueCode from './IssueCode';\nimport ErrorAlert from './ErrorAlert';\n\ninterface DatabaseErrorExtra {\n  owners?: string[];\n  issue_codes: {\n    code: number;\n    message: string;\n  }[];\n  engine_name: string | null;\n}\n\nfunction DatabaseErrorMessage({\n  error,\n  source = 'dashboard',\n  subtitle,\n}: ErrorMessageComponentProps<DatabaseErrorExtra>) {\n  const { extra, level, message } = error;\n\n  const isVisualization = ['dashboard', 'explore'].includes(source);\n\n  const body = extra && (\n    <>\n      <p>\n        {t('This may be triggered by:')}\n        <br />\n        {extra.issue_codes\n          .map<React.ReactNode>(issueCode => (\n            <IssueCode {...issueCode} key={issueCode.code} />\n          ))\n          .reduce((prev, curr) => [prev, <br />, curr])}\n      </p>\n      {isVisualization && extra.owners && (\n        <>\n          <br />\n          <p>\n            {tn(\n              'Please reach out to the Chart Owner for assistance.',\n              'Please reach out to the Chart Owners for assistance.',\n              extra.owners.length,\n            )}\n          </p>\n          <p>\n            {tn(\n              'Chart Owner: %s',\n              'Chart Owners: %s',\n              extra.owners.length,\n              extra.owners.join(', '),\n            )}\n          </p>\n        </>\n      )}\n    </>\n  );\n\n  const copyText =\n    extra && extra.issue_codes\n      ? `${message}\n${t('This may be triggered by:')}\n${extra.issue_codes.map(issueCode => issueCode.message).join('\\n')}`\n      : message;\n\n  return (\n    <ErrorAlert\n      title={t('%s Error', (extra && extra.engine_name) || t('DB engine'))}\n      subtitle={subtitle}\n      level={level}\n      source={source}\n      copyText={copyText}\n      body={body}\n    />\n  );\n}\n\nexport default DatabaseErrorMessage;\n"],"sourceRoot":""},"metadata":{},"sourceType":"module"}