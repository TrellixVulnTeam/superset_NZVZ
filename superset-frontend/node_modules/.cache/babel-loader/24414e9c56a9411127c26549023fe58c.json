{"ast":null,"code":"(function () {var enterModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.enterModule : undefined;enterModule && enterModule(module);})();var __signature__ = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default.signature : function (a) {return a;}; /**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport querystring from 'query-string';\nconst reservedQueryParams = new Set(['standalone', 'edit']);\n/**\n * Returns the url params that are used to customize queries\n */\nexport default function extractUrlParams(urlParamType) {\n  const queryParams = querystring.parse(window.location.search);\n  return Object.entries(queryParams).reduce((acc, [key, value]) => {\n    if (urlParamType === 'regular' && reservedQueryParams.has(key) ||\n    urlParamType === 'reserved' && !reservedQueryParams.has(key))\n    return acc;\n    // if multiple url params share the same key (?foo=bar&foo=baz), they will appear as an array.\n    // Only one value can be used for a given query param, so we just take the first one.\n    if (Array.isArray(value)) {\n      return {\n        ...acc,\n        [key]: value[0] };\n\n    }\n    return { ...acc, [key]: value };\n  }, {});\n};(function () {var reactHotLoader = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default : undefined;if (!reactHotLoader) {return;}reactHotLoader.register(reservedQueryParams, \"reservedQueryParams\", \"/home/ubuntu/my_plugin/superset/superset-frontend/src/dashboard/util/extractUrlParams.ts\");reactHotLoader.register(extractUrlParams, \"extractUrlParams\", \"/home/ubuntu/my_plugin/superset/superset-frontend/src/dashboard/util/extractUrlParams.ts\");})();;(function () {var leaveModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.leaveModule : undefined;leaveModule && leaveModule(module);})();","map":{"version":3,"sources":["/home/ubuntu/my_plugin/superset/superset-frontend/src/dashboard/util/extractUrlParams.ts"],"names":[],"mappings":"wSAAA;;;;;;;;;;;;;;;;;AAiBG;AACH,OAAO,WAAP,MAAwB,cAAxB;AAGA,MAAM,mBAAmB,GAAG,IAAI,GAAJ,CAAQ,CAAC,YAAD,EAAe,MAAf,CAAR,CAA5B;AAIA;;AAEG;AACH,eAAc,SAAU,gBAAV,CACZ,YADY,EACc;AAE1B,QAAM,WAAW,GAAG,WAAW,CAAC,KAAZ,CAAkB,MAAM,CAAC,QAAP,CAAgB,MAAlC,CAApB;AACA,SAAO,MAAM,CAAC,OAAP,CAAe,WAAf,EAA4B,MAA5B,CAAmC,CAAC,GAAD,EAAM,CAAC,GAAD,EAAM,KAAN,CAAN,KAAsB;AAC9D,QACG,YAAY,KAAK,SAAjB,IAA8B,mBAAmB,CAAC,GAApB,CAAwB,GAAxB,CAA/B;AACC,IAAA,YAAY,KAAK,UAAjB,IAA+B,CAAC,mBAAmB,CAAC,GAApB,CAAwB,GAAxB,CAFnC;AAIE,WAAO,GAAP;AACF;AACA;AACA,QAAI,KAAK,CAAC,OAAN,CAAc,KAAd,CAAJ,EAA0B;AACxB,aAAO;AACL,WAAG,GADE;AAEL,SAAC,GAAD,GAAO,KAAK,CAAC,CAAD,CAFP,EAAP;;AAID;AACD,WAAO,EAAE,GAAG,GAAL,EAAU,CAAC,GAAD,GAAO,KAAjB,EAAP;AACD,GAfM,EAeJ,EAfI,CAAP;AAgBD,C,iLA3BK,mB,6IAOkB,gB","sourcesContent":["/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport querystring from 'query-string';\nimport { JsonObject } from '@superset-ui/core';\n\nconst reservedQueryParams = new Set(['standalone', 'edit']);\n\nexport type UrlParamType = 'reserved' | 'regular' | 'all';\n\n/**\n * Returns the url params that are used to customize queries\n */\nexport default function extractUrlParams(\n  urlParamType: UrlParamType,\n): JsonObject {\n  const queryParams = querystring.parse(window.location.search);\n  return Object.entries(queryParams).reduce((acc, [key, value]) => {\n    if (\n      (urlParamType === 'regular' && reservedQueryParams.has(key)) ||\n      (urlParamType === 'reserved' && !reservedQueryParams.has(key))\n    )\n      return acc;\n    // if multiple url params share the same key (?foo=bar&foo=baz), they will appear as an array.\n    // Only one value can be used for a given query param, so we just take the first one.\n    if (Array.isArray(value)) {\n      return {\n        ...acc,\n        [key]: value[0],\n      };\n    }\n    return { ...acc, [key]: value };\n  }, {});\n}\n"],"sourceRoot":""},"metadata":{},"sourceType":"module"}