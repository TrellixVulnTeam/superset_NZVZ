{"ast":null,"code":"import _extends from \"@babel/runtime-corejs3/helpers/extends\";import _debounce from \"lodash/debounce\";function _EMOTION_STRINGIFIED_CSS_ERROR__() {return \"You have tried to stringify object returned from `css` function. It isn't supposed to be used directly (e.g. as value of the `className` prop), but rather handed to emotion so it can handle it (e.g. as value of `css` prop).\";} /**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport React, { useState } from 'react';\nimport Collapse from 'src/components/Collapse';\nimport Card from 'src/components/Card';\nimport ButtonGroup from 'src/components/ButtonGroup';\nimport { t, styled } from '@superset-ui/core';\n\nimport { Tooltip } from 'src/components/Tooltip';\nimport CopyToClipboard from 'src/components/CopyToClipboard';\nimport { IconTooltip } from 'src/components/IconTooltip';\nimport ModalTrigger from 'src/components/ModalTrigger';\nimport Loading from 'src/components/Loading';\nimport ColumnElement from '../ColumnElement';\nimport ShowSQL from '../ShowSQL';import { jsx as ___EmotionJSX } from \"@emotion/react\";\nconst StyledSpan = styled.span`\n  color: ${({ theme }) => theme.colors.primary.dark1};\n  &: hover {\n    color: ${({ theme }) => theme.colors.primary.dark2};\n  }\n  cursor: pointer;\n`;\nconst Fade = styled.div`\n  transition: all ${({ theme }) => theme.transitionTiming}s;\n  opacity: ${(props) => props.hovered ? 1 : 0};\n`;var _ref = process.env.NODE_ENV === \"production\" ? { name: \"1hs1mx1\", styles: \"padding-top:6px\" } : { name: \"14hmmm7-metadata\", styles: \"padding-top:6px;label:metadata;\", map: \"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL3VidW50dS9teV9wbHVnaW4vc3VwZXJzZXQvc3VwZXJzZXQtZnJvbnRlbmQvc3JjL1NxbExhYi9jb21wb25lbnRzL1RhYmxlRWxlbWVudC9pbmRleC50c3giXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBaUp3RyIsImZpbGUiOiIvaG9tZS91YnVudHUvbXlfcGx1Z2luL3N1cGVyc2V0L3N1cGVyc2V0LWZyb250ZW5kL3NyYy9TcWxMYWIvY29tcG9uZW50cy9UYWJsZUVsZW1lbnQvaW5kZXgudHN4Iiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBMaWNlbnNlZCB0byB0aGUgQXBhY2hlIFNvZnR3YXJlIEZvdW5kYXRpb24gKEFTRikgdW5kZXIgb25lXG4gKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxpY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGVcbiAqIGRpc3RyaWJ1dGVkIHdpdGggdGhpcyB3b3JrIGZvciBhZGRpdGlvbmFsIGluZm9ybWF0aW9uXG4gKiByZWdhcmRpbmcgY29weXJpZ2h0IG93bmVyc2hpcC4gIFRoZSBBU0YgbGljZW5zZXMgdGhpcyBmaWxlXG4gKiB0byB5b3UgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlXG4gKiBcIkxpY2Vuc2VcIik7IHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2VcbiAqIHdpdGggdGhlIExpY2Vuc2UuICBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZyxcbiAqIHNvZnR3YXJlIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuXG4gKiBcIkFTIElTXCIgQkFTSVMsIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWVxuICogS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlXG4gKiBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kIGxpbWl0YXRpb25zXG4gKiB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuaW1wb3J0IFJlYWN0LCB7IHVzZVN0YXRlIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IENvbGxhcHNlIGZyb20gJ3NyYy9jb21wb25lbnRzL0NvbGxhcHNlJztcbmltcG9ydCBDYXJkIGZyb20gJ3NyYy9jb21wb25lbnRzL0NhcmQnO1xuaW1wb3J0IEJ1dHRvbkdyb3VwIGZyb20gJ3NyYy9jb21wb25lbnRzL0J1dHRvbkdyb3VwJztcbmltcG9ydCB7IHQsIHN0eWxlZCB9IGZyb20gJ0BzdXBlcnNldC11aS9jb3JlJztcbmltcG9ydCB7IGRlYm91bmNlIH0gZnJvbSAnbG9kYXNoJztcbmltcG9ydCB7IFRvb2x0aXAgfSBmcm9tICdzcmMvY29tcG9uZW50cy9Ub29sdGlwJztcbmltcG9ydCBDb3B5VG9DbGlwYm9hcmQgZnJvbSAnc3JjL2NvbXBvbmVudHMvQ29weVRvQ2xpcGJvYXJkJztcbmltcG9ydCB7IEljb25Ub29sdGlwIH0gZnJvbSAnc3JjL2NvbXBvbmVudHMvSWNvblRvb2x0aXAnO1xuaW1wb3J0IE1vZGFsVHJpZ2dlciBmcm9tICdzcmMvY29tcG9uZW50cy9Nb2RhbFRyaWdnZXInO1xuaW1wb3J0IExvYWRpbmcgZnJvbSAnc3JjL2NvbXBvbmVudHMvTG9hZGluZyc7XG5pbXBvcnQgQ29sdW1uRWxlbWVudCBmcm9tICcuLi9Db2x1bW5FbGVtZW50JztcbmltcG9ydCBTaG93U1FMIGZyb20gJy4uL1Nob3dTUUwnO1xuY29uc3QgU3R5bGVkU3BhbiA9IHN0eWxlZC5zcGFuIGBcbiAgY29sb3I6ICR7KHsgdGhlbWUgfSkgPT4gdGhlbWUuY29sb3JzLnByaW1hcnkuZGFyazF9O1xuICAmOiBob3ZlciB7XG4gICAgY29sb3I6ICR7KHsgdGhlbWUgfSkgPT4gdGhlbWUuY29sb3JzLnByaW1hcnkuZGFyazJ9O1xuICB9XG4gIGN1cnNvcjogcG9pbnRlcjtcbmA7XG5jb25zdCBGYWRlID0gc3R5bGVkLmRpdiBgXG4gIHRyYW5zaXRpb246IGFsbCAkeyh7IHRoZW1lIH0pID0+IHRoZW1lLnRyYW5zaXRpb25UaW1pbmd9cztcbiAgb3BhY2l0eTogJHsocHJvcHMpID0+IChwcm9wcy5ob3ZlcmVkID8gMSA6IDApfTtcbmA7XG5jb25zdCBUYWJsZUVsZW1lbnQgPSAoeyB0YWJsZSwgYWN0aW9ucywgLi4ucHJvcHMgfSkgPT4ge1xuICAgIGNvbnN0IFtzb3J0Q29sdW1ucywgc2V0U29ydENvbHVtbnNdID0gdXNlU3RhdGUoZmFsc2UpO1xuICAgIGNvbnN0IFtob3ZlcmVkLCBzZXRIb3ZlcmVkXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgICBjb25zdCB0YWJsZU5hbWVSZWYgPSBSZWFjdC51c2VSZWYobnVsbCk7XG4gICAgY29uc3Qgc2V0SG92ZXIgPSAoaG92ZXJlZCkgPT4ge1xuICAgICAgICBkZWJvdW5jZSgoKSA9PiBzZXRIb3ZlcmVkKGhvdmVyZWQpLCAxMDApKCk7XG4gICAgfTtcbiAgICBjb25zdCByZW1vdmVUYWJsZSA9ICgpID0+IHtcbiAgICAgICAgYWN0aW9ucy5yZW1vdmVEYXRhUHJldmlldyh0YWJsZSk7XG4gICAgICAgIGFjdGlvbnMucmVtb3ZlVGFibGUodGFibGUpO1xuICAgIH07XG4gICAgY29uc3QgdG9nZ2xlU29ydENvbHVtbnMgPSAoKSA9PiB7XG4gICAgICAgIHNldFNvcnRDb2x1bW5zKHByZXZTdGF0ZSA9PiAhcHJldlN0YXRlKTtcbiAgICB9O1xuICAgIGNvbnN0IHJlbmRlcldlbGwgPSAoKSA9PiB7XG4gICAgICAgIGxldCBwYXJ0aXRpb25zO1xuICAgICAgICBsZXQgbWV0YWRhdGE7XG4gICAgICAgIGlmICh0YWJsZS5wYXJ0aXRpb25zKSB7XG4gICAgICAgICAgICBsZXQgcGFydGl0aW9uUXVlcnk7XG4gICAgICAgICAgICBsZXQgcGFydGl0aW9uQ2xpcEJvYXJkO1xuICAgICAgICAgICAgaWYgKHRhYmxlLnBhcnRpdGlvbnMucGFydGl0aW9uUXVlcnkpIHtcbiAgICAgICAgICAgICAgICAoeyBwYXJ0aXRpb25RdWVyeSB9ID0gdGFibGUucGFydGl0aW9ucyk7XG4gICAgICAgICAgICAgICAgY29uc3QgdHQgPSB0KCdDb3B5IHBhcnRpdGlvbiBxdWVyeSB0byBjbGlwYm9hcmQnKTtcbiAgICAgICAgICAgICAgICBwYXJ0aXRpb25DbGlwQm9hcmQgPSAoPENvcHlUb0NsaXBib2FyZCB0ZXh0PXtwYXJ0aXRpb25RdWVyeX0gc2hvdWxkU2hvd1RleHQ9e2ZhbHNlfSB0b29sdGlwVGV4dD17dHR9IGNvcHlOb2RlPXs8aSBjbGFzc05hbWU9XCJmYSBmYS1jbGlwYm9hcmRcIi8+fS8+KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IGxhdGVzdCA9IE9iamVjdC5lbnRyaWVzKHRhYmxlLnBhcnRpdGlvbnM/LmxhdGVzdCB8fCBbXSlcbiAgICAgICAgICAgICAgICAubWFwKChba2V5LCB2YWx1ZV0pID0+IGAke2tleX09JHt2YWx1ZX1gKVxuICAgICAgICAgICAgICAgIC5qb2luKCcvJyk7XG4gICAgICAgICAgICBwYXJ0aXRpb25zID0gKDxkaXY+XG4gICAgICAgICAgPHNtYWxsPlxuICAgICAgICAgICAge3QoJ2xhdGVzdCBwYXJ0aXRpb246Jyl9IHtsYXRlc3R9XG4gICAgICAgICAgPC9zbWFsbD57JyAnfVxuICAgICAgICAgIHtwYXJ0aXRpb25DbGlwQm9hcmR9XG4gICAgICAgIDwvZGl2Pik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRhYmxlLm1ldGFkYXRhKSB7XG4gICAgICAgICAgICBtZXRhZGF0YSA9IE9iamVjdC5lbnRyaWVzKHRhYmxlLm1ldGFkYXRhKS5tYXAoKFtrZXksIHZhbHVlXSkgPT4gKDxkaXY+XG4gICAgICAgICAgPHNtYWxsPlxuICAgICAgICAgICAgPHN0cm9uZz57a2V5fTo8L3N0cm9uZz4ge3ZhbHVlfVxuICAgICAgICAgIDwvc21hbGw+XG4gICAgICAgIDwvZGl2PikpO1xuICAgICAgICB9XG4gICAgICAgIGlmICghcGFydGl0aW9ucyAmJiAoIW1ldGFkYXRhIHx8ICFtZXRhZGF0YS5sZW5ndGgpKSB7XG4gICAgICAgICAgICAvLyBoaWRlIHBhcnRpdGlvbiBhbmQgbWV0YWRhdGEgY2FyZCB2aWV3XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gKDxDYXJkIHNpemU9XCJzbWFsbFwiPlxuICAgICAgICB7cGFydGl0aW9uc31cbiAgICAgICAge21ldGFkYXRhfVxuICAgICAgPC9DYXJkPik7XG4gICAgfTtcbiAgICBjb25zdCByZW5kZXJDb250cm9scyA9ICgpID0+IHtcbiAgICAgICAgbGV0IGtleUxpbms7XG4gICAgICAgIGlmICh0YWJsZT8uaW5kZXhlcz8ubGVuZ3RoKSB7XG4gICAgICAgICAgICBrZXlMaW5rID0gKDxNb2RhbFRyaWdnZXIgbW9kYWxUaXRsZT17PGRpdj5cbiAgICAgICAgICAgICAge3QoJ0tleXMgZm9yIHRhYmxlJyl9IDxzdHJvbmc+e3RhYmxlLm5hbWV9PC9zdHJvbmc+XG4gICAgICAgICAgICA8L2Rpdj59IG1vZGFsQm9keT17dGFibGUuaW5kZXhlcy5tYXAoKGl4LCBpKSA9PiAoPHByZSBrZXk9e2l9PntKU09OLnN0cmluZ2lmeShpeCwgbnVsbCwgJyAgJyl9PC9wcmU+KSl9IHRyaWdnZXJOb2RlPXs8SWNvblRvb2x0aXAgY2xhc3NOYW1lPVwiZmEgZmEta2V5IHB1bGwtbGVmdCBtLWwtMlwiIHRvb2x0aXA9e3QoJ1ZpZXcga2V5cyAmIGluZGV4ZXMgKCVzKScsIHRhYmxlLmluZGV4ZXMubGVuZ3RoKX0vPn0vPik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuICg8QnV0dG9uR3JvdXAgY2xhc3NOYW1lPVwid3MtZWwtY29udHJvbHNcIj5cbiAgICAgICAge2tleUxpbmt9XG4gICAgICAgIDxJY29uVG9vbHRpcCBjbGFzc05hbWU9e2BmYSBmYS1zb3J0LSR7c29ydENvbHVtbnMgPyAnbnVtZXJpYycgOiAnYWxwaGEnfS1hc2MgYCArXG4gICAgICAgICAgICAgICAgJ3B1bGwtbGVmdCBzb3J0LWNvbHMgbS1sLTIgcG9pbnRlcid9IG9uQ2xpY2s9e3RvZ2dsZVNvcnRDb2x1bW5zfSB0b29sdGlwPXtzb3J0Q29sdW1uc1xuICAgICAgICAgICAgICAgID8gdCgnT3JpZ2luYWwgdGFibGUgY29sdW1uIG9yZGVyJylcbiAgICAgICAgICAgICAgICA6IHQoJ1NvcnQgY29sdW1ucyBhbHBoYWJldGljYWxseScpfS8+XG4gICAgICAgIHt0YWJsZS5zZWxlY3RTdGFyICYmICg8Q29weVRvQ2xpcGJvYXJkIGNvcHlOb2RlPXs8SWNvblRvb2x0aXAgYXJpYS1sYWJlbD1cIkNvcHlcIiB0b29sdGlwPXt0KCdDb3B5IFNFTEVDVCBzdGF0ZW1lbnQgdG8gdGhlIGNsaXBib2FyZCcpfT5cbiAgICAgICAgICAgICAgICA8aSBhcmlhLWhpZGRlbiBjbGFzc05hbWU9XCJmYSBmYS1jbGlwYm9hcmQgcHVsbC1sZWZ0IG0tbC0yXCIvPlxuICAgICAgICAgICAgICA8L0ljb25Ub29sdGlwPn0gdGV4dD17dGFibGUuc2VsZWN0U3Rhcn0gc2hvdWxkU2hvd1RleHQ9e2ZhbHNlfS8+KX1cbiAgICAgICAge3RhYmxlLnZpZXcgJiYgKDxTaG93U1FMIHNxbD17dGFibGUudmlld30gdG9vbHRpcFRleHQ9e3QoJ1Nob3cgQ1JFQVRFIFZJRVcgc3RhdGVtZW50Jyl9IHRpdGxlPXt0KCdDUkVBVEUgVklFVyBzdGF0ZW1lbnQnKX0vPil9XG4gICAgICAgIDxJY29uVG9vbHRpcCBjbGFzc05hbWU9XCJmYSBmYS10aW1lcyB0YWJsZS1yZW1vdmUgcHVsbC1sZWZ0IG0tbC0yIHBvaW50ZXJcIiBvbkNsaWNrPXtyZW1vdmVUYWJsZX0gdG9vbHRpcD17dCgnUmVtb3ZlIHRhYmxlIHByZXZpZXcnKX0vPlxuICAgICAgPC9CdXR0b25Hcm91cD4pO1xuICAgIH07XG4gICAgY29uc3QgcmVuZGVySGVhZGVyID0gKCkgPT4ge1xuICAgICAgICBjb25zdCBlbGVtZW50ID0gdGFibGVOYW1lUmVmLmN1cnJlbnQ7XG4gICAgICAgIGxldCB0cmlnZ2VyID0gW107XG4gICAgICAgIGlmIChlbGVtZW50ICYmIGVsZW1lbnQub2Zmc2V0V2lkdGggPCBlbGVtZW50LnNjcm9sbFdpZHRoKSB7XG4gICAgICAgICAgICB0cmlnZ2VyID0gWydob3ZlciddO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAoPGRpdiBjbGFzc05hbWU9XCJjbGVhcmZpeCBoZWFkZXItY29udGFpbmVyXCIgb25Nb3VzZUVudGVyPXsoKSA9PiBzZXRIb3Zlcih0cnVlKX0gb25Nb3VzZUxlYXZlPXsoKSA9PiBzZXRIb3ZlcihmYWxzZSl9PlxuICAgICAgICA8VG9vbHRpcCBpZD1cImNvcHktdG8tY2xpcGJvYXJkLXRvb2x0aXBcIiBzdHlsZT17eyBjdXJzb3I6ICdwb2ludGVyJyB9fSB0aXRsZT17dGFibGUubmFtZX0gdHJpZ2dlcj17dHJpZ2dlcn0+XG4gICAgICAgICAgPFN0eWxlZFNwYW4gZGF0YS10ZXN0PVwiY29sbGFwc2VcIiByZWY9e3RhYmxlTmFtZVJlZn0gY2xhc3NOYW1lPVwidGFibGUtbmFtZVwiPlxuICAgICAgICAgICAgPHN0cm9uZz57dGFibGUubmFtZX08L3N0cm9uZz5cbiAgICAgICAgICA8L1N0eWxlZFNwYW4+XG4gICAgICAgIDwvVG9vbHRpcD5cblxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInB1bGwtcmlnaHQgaGVhZGVyLXJpZ2h0LXNpZGVcIj5cbiAgICAgICAgICB7dGFibGUuaXNNZXRhZGF0YUxvYWRpbmcgfHwgdGFibGUuaXNFeHRyYU1ldGFkYXRhTG9hZGluZyA/ICg8TG9hZGluZyBwb3NpdGlvbj1cImlubGluZVwiLz4pIDogKDxGYWRlIGRhdGEtdGVzdD1cImZhZGVcIiBob3ZlcmVkPXtob3ZlcmVkfSBvbkNsaWNrPXtlID0+IGUuc3RvcFByb3BhZ2F0aW9uKCl9PlxuICAgICAgICAgICAgICB7cmVuZGVyQ29udHJvbHMoKX1cbiAgICAgICAgICAgIDwvRmFkZT4pfVxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2Pik7XG4gICAgfTtcbiAgICBjb25zdCByZW5kZXJCb2R5ID0gKCkgPT4ge1xuICAgICAgICBsZXQgY29scztcbiAgICAgICAgaWYgKHRhYmxlLmNvbHVtbnMpIHtcbiAgICAgICAgICAgIGNvbHMgPSB0YWJsZS5jb2x1bW5zLnNsaWNlKCk7XG4gICAgICAgICAgICBpZiAoc29ydENvbHVtbnMpIHtcbiAgICAgICAgICAgICAgICBjb2xzLnNvcnQoKGEsIGIpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgY29sQSA9IGEubmFtZS50b1VwcGVyQ2FzZSgpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBjb2xCID0gYi5uYW1lLnRvVXBwZXJDYXNlKCk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBjb2xBIDwgY29sQiA/IC0xIDogY29sQSA+IGNvbEIgPyAxIDogMDtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjb25zdCBtZXRhZGF0YSA9ICg8ZGl2IG9uTW91c2VFbnRlcj17KCkgPT4gc2V0SG92ZXIodHJ1ZSl9IG9uTW91c2VMZWF2ZT17KCkgPT4gc2V0SG92ZXIoZmFsc2UpfSBjc3M9e3sgcGFkZGluZ1RvcDogNiB9fT5cbiAgICAgICAge3JlbmRlcldlbGwoKX1cbiAgICAgICAgPGRpdj5cbiAgICAgICAgICB7Y29scz8ubWFwKGNvbCA9PiAoPENvbHVtbkVsZW1lbnQgY29sdW1uPXtjb2x9IGtleT17Y29sLm5hbWV9Lz4pKX1cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj4pO1xuICAgICAgICByZXR1cm4gbWV0YWRhdGE7XG4gICAgfTtcbiAgICByZXR1cm4gKDxDb2xsYXBzZS5QYW5lbCB7Li4ucHJvcHN9IGtleT17dGFibGUuaWR9IGhlYWRlcj17cmVuZGVySGVhZGVyKCl9IGNsYXNzTmFtZT1cIlRhYmxlRWxlbWVudFwiIGZvcmNlUmVuZGVyPlxuICAgICAge3JlbmRlckJvZHkoKX1cbiAgICA8L0NvbGxhcHNlLlBhbmVsPik7XG59O1xuZXhwb3J0IGRlZmF1bHQgVGFibGVFbGVtZW50O1xuIl19 */\", toString: _EMOTION_STRINGIFIED_CSS_ERROR__ };\nconst TableElement = ({ table, actions, ...props }) => {\n  const [sortColumns, setSortColumns] = useState(false);\n  const [hovered, setHovered] = useState(false);\n  const tableNameRef = React.useRef(null);\n  const setHover = (hovered) => {\n    _debounce(() => setHovered(hovered), 100)();\n  };\n  const removeTable = () => {\n    actions.removeDataPreview(table);\n    actions.removeTable(table);\n  };\n  const toggleSortColumns = () => {\n    setSortColumns((prevState) => !prevState);\n  };\n  const renderWell = () => {\n    let partitions;\n    let metadata;\n    if (table.partitions) {var _table$partitions;\n      let partitionQuery;\n      let partitionClipBoard;\n      if (table.partitions.partitionQuery) {\n        ({ partitionQuery } = table.partitions);\n        const tt = t('Copy partition query to clipboard');\n        partitionClipBoard = ___EmotionJSX(CopyToClipboard, { text: partitionQuery, shouldShowText: false, tooltipText: tt, copyNode: ___EmotionJSX(\"i\", { className: \"fa fa-clipboard\" }) });\n      }\n      const latest = Object.entries(((_table$partitions = table.partitions) == null ? void 0 : _table$partitions.latest) || []).\n      map(([key, value]) => `${key}=${value}`).\n      join('/');\n      partitions = ___EmotionJSX(\"div\", null,\n      ___EmotionJSX(\"small\", null,\n      t('latest partition:'), \" \", latest),\n      ' ',\n      partitionClipBoard);\n\n    }\n    if (table.metadata) {\n      metadata = Object.entries(table.metadata).map(([key, value]) => ___EmotionJSX(\"div\", null,\n      ___EmotionJSX(\"small\", null,\n      ___EmotionJSX(\"strong\", null, key, \":\"), \" \", value)));\n\n\n    }\n    if (!partitions && (!metadata || !metadata.length)) {\n      // hide partition and metadata card view\n      return null;\n    }\n    return ___EmotionJSX(Card, { size: \"small\" },\n    partitions,\n    metadata);\n\n  };\n  const renderControls = () => {var _table$indexes;\n    let keyLink;\n    if (table != null && (_table$indexes = table.indexes) != null && _table$indexes.length) {\n      keyLink = ___EmotionJSX(ModalTrigger, { modalTitle: ___EmotionJSX(\"div\", null,\n        t('Keys for table'), \" \", ___EmotionJSX(\"strong\", null, table.name)),\n        modalBody: table.indexes.map((ix, i) => ___EmotionJSX(\"pre\", { key: i }, JSON.stringify(ix, null, '  '))), triggerNode: ___EmotionJSX(IconTooltip, { className: \"fa fa-key pull-left m-l-2\", tooltip: t('View keys & indexes (%s)', table.indexes.length) }) });\n    }\n    return ___EmotionJSX(ButtonGroup, { className: \"ws-el-controls\" },\n    keyLink,\n    ___EmotionJSX(IconTooltip, { className: `fa fa-sort-${sortColumns ? 'numeric' : 'alpha'}-asc ` +\n      'pull-left sort-cols m-l-2 pointer', onClick: toggleSortColumns, tooltip: sortColumns ?\n      t('Original table column order') :\n      t('Sort columns alphabetically') }),\n    table.selectStar && ___EmotionJSX(CopyToClipboard, { copyNode: ___EmotionJSX(IconTooltip, { \"aria-label\": \"Copy\", tooltip: t('Copy SELECT statement to the clipboard') },\n      ___EmotionJSX(\"i\", { \"aria-hidden\": true, className: \"fa fa-clipboard pull-left m-l-2\" })),\n      text: table.selectStar, shouldShowText: false }),\n    table.view && ___EmotionJSX(ShowSQL, { sql: table.view, tooltipText: t('Show CREATE VIEW statement'), title: t('CREATE VIEW statement') }),\n    ___EmotionJSX(IconTooltip, { className: \"fa fa-times table-remove pull-left m-l-2 pointer\", onClick: removeTable, tooltip: t('Remove table preview') }));\n\n  };\n  const renderHeader = () => {\n    const element = tableNameRef.current;\n    let trigger = [];\n    if (element && element.offsetWidth < element.scrollWidth) {\n      trigger = ['hover'];\n    }\n    return ___EmotionJSX(\"div\", { className: \"clearfix header-container\", onMouseEnter: () => setHover(true), onMouseLeave: () => setHover(false) },\n    ___EmotionJSX(Tooltip, { id: \"copy-to-clipboard-tooltip\", style: { cursor: 'pointer' }, title: table.name, trigger: trigger },\n    ___EmotionJSX(StyledSpan, { ref: tableNameRef, className: \"table-name\" },\n    ___EmotionJSX(\"strong\", null, table.name))),\n\n\n\n    ___EmotionJSX(\"div\", { className: \"pull-right header-right-side\" },\n    table.isMetadataLoading || table.isExtraMetadataLoading ? ___EmotionJSX(Loading, { position: \"inline\" }) : ___EmotionJSX(Fade, { hovered: hovered, onClick: (e) => e.stopPropagation() },\n    renderControls())));\n\n\n\n  };\n  const renderBody = () => {var _cols;\n    let cols;\n    if (table.columns) {\n      cols = table.columns.slice();\n      if (sortColumns) {\n        cols.sort((a, b) => {\n          const colA = a.name.toUpperCase();\n          const colB = b.name.toUpperCase();\n          return colA < colB ? -1 : colA > colB ? 1 : 0;\n        });\n      }\n    }\n    const metadata = ___EmotionJSX(\"div\", { onMouseEnter: () => setHover(true), onMouseLeave: () => setHover(false), css: _ref },\n    renderWell(),\n    ___EmotionJSX(\"div\", null, (_cols =\n    cols) == null ? void 0 : _cols.map((col) => ___EmotionJSX(ColumnElement, { column: col, key: col.name }))));\n\n\n    return metadata;\n  };\n  return ___EmotionJSX(Collapse.Panel, _extends({}, props, { key: table.id, header: renderHeader(), className: \"TableElement\", forceRender: true }),\n  renderBody());\n\n};\nexport default TableElement;","map":null,"metadata":{},"sourceType":"module"}