{"ast":null,"code":"var _jsxFileName = \"/home/ubuntu/my_plugin/superset/superset-frontend/src/components/FaveStar/index.tsx\";(function () {var enterModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.enterModule : undefined;enterModule && enterModule(module);})();var __signature__ = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default.signature : function (a) {return a;}; /**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport React, { useCallback } from 'react';\nimport { t, styled } from '@superset-ui/core';\nimport { Tooltip } from 'src/components/Tooltip';\nimport { useComponentDidMount } from 'src/common/hooks/useComponentDidMount';\nimport Icons from 'src/components/Icons';import { jsx as ___EmotionJSX } from \"@emotion/react\";\nconst StyledLink = styled.a`\n  font-size: ${({ theme }) => theme.typography.sizes.xl}px;\n  display: flex;\n  padding: 0 0 0 0.5em;\n`;\nconst FaveStar = ({ itemId, isStarred, showTooltip, saveFaveStar, fetchFaveStar }) => {\n  useComponentDidMount(() => {\n    if (fetchFaveStar) {\n      fetchFaveStar(itemId);\n    }\n  });\n  const onClick = useCallback((e) => {\n    e.preventDefault();\n    saveFaveStar(itemId, !!isStarred);\n  }, [isStarred, itemId, saveFaveStar]);\n  const content = ___EmotionJSX(StyledLink, { href: \"#\", onClick: onClick, className: \"fave-unfave-icon\", \"data-test\": \"fave-unfave-icon\", role: \"button\", __self: this, __source: { fileName: _jsxFileName, lineNumber: 39, columnNumber: 22 } },\n  isStarred ? ___EmotionJSX(Icons.FavoriteSelected, { iconSize: \"xxl\", __self: this, __source: { fileName: _jsxFileName, lineNumber: 40, columnNumber: 21 } }) : ___EmotionJSX(Icons.FavoriteUnselected, { iconSize: \"xxl\", __self: this, __source: { fileName: _jsxFileName, lineNumber: 40, columnNumber: 66 } }));\n\n  if (showTooltip) {\n    return ___EmotionJSX(Tooltip, { id: \"fave-unfave-tooltip\", title: t('Click to favorite/unfavorite'), __self: this, __source: { fileName: _jsxFileName, lineNumber: 43, columnNumber: 17 } },\n    content);\n\n  }\n  return content;\n};__signature__(FaveStar, \"useComponentDidMount{}\\nuseCallback{onClick}\", () => [useComponentDidMount]);const _default =\nFaveStar;export default _default;;(function () {var reactHotLoader = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default : undefined;if (!reactHotLoader) {return;}reactHotLoader.register(StyledLink, \"StyledLink\", \"/home/ubuntu/my_plugin/superset/superset-frontend/src/components/FaveStar/index.tsx\");reactHotLoader.register(FaveStar, \"FaveStar\", \"/home/ubuntu/my_plugin/superset/superset-frontend/src/components/FaveStar/index.tsx\");reactHotLoader.register(_default, \"default\", \"/home/ubuntu/my_plugin/superset/superset-frontend/src/components/FaveStar/index.tsx\");})();;(function () {var leaveModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.leaveModule : undefined;leaveModule && leaveModule(module);})();","map":{"version":3,"sources":["/home/ubuntu/my_plugin/superset/superset-frontend/src/components/FaveStar/index.tsx"],"names":[],"mappings":"iZAAA;;;;;;;;;;;;;;;;;AAiBG;AAEH,OAAO,KAAP,IAAgB,WAAhB,QAAmC,OAAnC;AACA,SAAS,CAAT,EAAY,MAAZ,QAA0B,mBAA1B;AACA,SAAS,OAAT,QAAwB,wBAAxB;AACA,SAAS,oBAAT,QAAqC,uCAArC;AACA,OAAO,KAAP,MAAkB,sBAAlB,C;AAUA,MAAM,UAAU,GAAG,MAAM,CAAC,CAAC;eACZ,CAAC,EAAE,KAAF,EAAD,KAAe,KAAK,CAAC,UAAN,CAAiB,KAAjB,CAAuB,EAAE;;;AAGtD,CAJD;AAMA,MAAM,QAAQ,GAAG,CAAC,EAChB,MADgB,EAEhB,SAFgB,EAGhB,WAHgB,EAIhB,YAJgB,EAKhB,aALgB,EAAD,KAMG;AAClB,EAAA,oBAAoB,CAAC,MAAK;AACxB,QAAI,aAAJ,EAAmB;AACjB,MAAA,aAAa,CAAC,MAAD,CAAb;AACD;AACF,GAJmB,CAApB;AAMA,QAAM,OAAO,GAAG,WAAW,CACzB,CAAC,CAAD,KAAwB;AACtB,IAAA,CAAC,CAAC,cAAF;AACA,IAAA,YAAY,CAAC,MAAD,EAAS,CAAC,CAAC,SAAX,CAAZ;AACD,GAJwB,EAKzB,CAAC,SAAD,EAAY,MAAZ,EAAoB,YAApB,CALyB,CAA3B;AAQA,QAAM,OAAO,GACX,cAAC,UAAD,IACE,IAAI,EAAC,GADP,EAEE,OAAO,EAAE,OAFX,EAGE,SAAS,EAAC,kBAHZ,EAIE,aAAU,kBAJZ,EAKE,IAAI,EAAC,QALP;AAOG,EAAA,SAAS,GACR,cAAC,KAAD,CAAO,gBAAP,IAAwB,QAAQ,EAAC,KAAjC,yFADQ,GAGR,cAAC,KAAD,CAAO,kBAAP,IAA0B,QAAQ,EAAC,KAAnC,yFAVJ,CADF;;AAgBA,MAAI,WAAJ,EAAiB;AACf,WACE,cAAC,OAAD,IACE,EAAE,EAAC,qBADL,EAEE,KAAK,EAAE,CAAC,CAAC,8BAAD,CAFV;AAIG,IAAA,OAJH,CADF;;AAQD;AAED,SAAO,OAAP;AACD,CAjDD,C,cAAM,Q,yDAOJ,oB;AA2Ca,Q,CAAf,wB,iLAxDM,U,+HAMA,Q","sourcesContent":["/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n\nimport React, { useCallback } from 'react';\nimport { t, styled } from '@superset-ui/core';\nimport { Tooltip } from 'src/components/Tooltip';\nimport { useComponentDidMount } from 'src/common/hooks/useComponentDidMount';\nimport Icons from 'src/components/Icons';\n\ninterface FaveStarProps {\n  itemId: number;\n  isStarred?: boolean;\n  showTooltip?: boolean;\n  saveFaveStar(id: number, isStarred: boolean): any;\n  fetchFaveStar?: (id: number) => void;\n}\n\nconst StyledLink = styled.a`\n  font-size: ${({ theme }) => theme.typography.sizes.xl}px;\n  display: flex;\n  padding: 0 0 0 0.5em;\n`;\n\nconst FaveStar = ({\n  itemId,\n  isStarred,\n  showTooltip,\n  saveFaveStar,\n  fetchFaveStar,\n}: FaveStarProps) => {\n  useComponentDidMount(() => {\n    if (fetchFaveStar) {\n      fetchFaveStar(itemId);\n    }\n  });\n\n  const onClick = useCallback(\n    (e: React.MouseEvent) => {\n      e.preventDefault();\n      saveFaveStar(itemId, !!isStarred);\n    },\n    [isStarred, itemId, saveFaveStar],\n  );\n\n  const content = (\n    <StyledLink\n      href=\"#\"\n      onClick={onClick}\n      className=\"fave-unfave-icon\"\n      data-test=\"fave-unfave-icon\"\n      role=\"button\"\n    >\n      {isStarred ? (\n        <Icons.FavoriteSelected iconSize=\"xxl\" />\n      ) : (\n        <Icons.FavoriteUnselected iconSize=\"xxl\" />\n      )}\n    </StyledLink>\n  );\n\n  if (showTooltip) {\n    return (\n      <Tooltip\n        id=\"fave-unfave-tooltip\"\n        title={t('Click to favorite/unfavorite')}\n      >\n        {content}\n      </Tooltip>\n    );\n  }\n\n  return content;\n};\nexport default FaveStar;\n"],"sourceRoot":""},"metadata":{},"sourceType":"module"}