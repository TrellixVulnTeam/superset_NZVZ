{"ast":null,"code":"import _extends from \"@babel/runtime-corejs3/helpers/extends\";var _jsxFileName = \"/home/ubuntu/my_plugin/superset/superset-frontend/src/views/App.tsx\",_container$getAttribu;(function () {var enterModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.enterModule : undefined;enterModule && enterModule(module);})();var __signature__ = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default.signature : function (a) {return a;}; /**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport React, { Suspense, useEffect } from 'react';\nimport { hot } from 'react-hot-loader/root';\nimport { Provider as ReduxProvider } from 'react-redux';\nimport { BrowserRouter as Router, Switch, Route, useLocation } from 'react-router-dom';\nimport { DndProvider } from 'react-dnd';\nimport { HTML5Backend } from 'react-dnd-html5-backend';\nimport { QueryParamProvider } from 'use-query-params';\nimport { initFeatureFlags } from 'src/featureFlags';\nimport { ThemeProvider } from '@superset-ui/core';\nimport { DynamicPluginProvider } from 'src/components/DynamicPlugins';\nimport ErrorBoundary from 'src/components/ErrorBoundary';\nimport Loading from 'src/components/Loading';\nimport Menu from 'src/components/Menu/Menu';\nimport FlashProvider from 'src/components/FlashProvider';\nimport { theme } from 'src/preamble';\nimport ToastContainer from 'src/components/MessageToasts/ToastContainer';\nimport setupApp from 'src/setup/setupApp';\nimport { routes, isFrontendRoute } from 'src/views/routes';\nimport { Logger } from 'src/logger/LogUtils';\nimport { store } from './store';import { jsx as ___EmotionJSX } from \"@emotion/react\";\nsetupApp();\nconst container = document.getElementById('app');\nconst bootstrap = JSON.parse((_container$getAttribu = container == null ? void 0 : container.getAttribute('data-bootstrap')) != null ? _container$getAttribu : '{}');\nconst user = { ...bootstrap.user };\nconst menu = { ...bootstrap.common.menu_data };\nconst common = { ...bootstrap.common };\nlet lastLocationPathname;\ninitFeatureFlags(bootstrap.common.feature_flags);\nconst RootContextProviders = ({ children }) => {\n  const location = useLocation();\n  useEffect(() => {\n    // reset performance logger timer start point to avoid soft navigation\n    // cause dashboard perf measurement problem\n    if (lastLocationPathname && lastLocationPathname !== location.pathname) {\n      Logger.markTimeOrigin();\n    }\n    lastLocationPathname = location.pathname;\n  }, [location.pathname]);\n  return ___EmotionJSX(ThemeProvider, { theme: theme, __self: this, __source: { fileName: _jsxFileName, lineNumber: 57, columnNumber: 13 } },\n  ___EmotionJSX(ReduxProvider, { store: store, __self: this, __source: { fileName: _jsxFileName, lineNumber: 58, columnNumber: 7 } },\n  ___EmotionJSX(DndProvider, { backend: HTML5Backend, __self: this, __source: { fileName: _jsxFileName, lineNumber: 59, columnNumber: 9 } },\n  ___EmotionJSX(FlashProvider, { messages: common.flash_messages, __self: this, __source: { fileName: _jsxFileName, lineNumber: 60, columnNumber: 11 } },\n  ___EmotionJSX(DynamicPluginProvider, { __self: this, __source: { fileName: _jsxFileName, lineNumber: 61, columnNumber: 13 } },\n  ___EmotionJSX(QueryParamProvider, { ReactRouterRoute: Route, stringifyOptions: { encode: false }, __self: this, __source: { fileName: _jsxFileName, lineNumber: 62, columnNumber: 15 } },\n  children))))));\n\n\n\n\n\n\n};__signature__(RootContextProviders, \"useLocation{location}\\nuseEffect{}\", () => [useLocation]);\nconst App = () => ___EmotionJSX(Router, { __self: this, __source: { fileName: _jsxFileName, lineNumber: 71, columnNumber: 20 } },\n___EmotionJSX(RootContextProviders, { __self: this, __source: { fileName: _jsxFileName, lineNumber: 72, columnNumber: 5 } },\n___EmotionJSX(Menu, { data: menu, isFrontendRoute: isFrontendRoute, __self: this, __source: { fileName: _jsxFileName, lineNumber: 73, columnNumber: 7 } }),\n___EmotionJSX(Switch, { __self: this, __source: { fileName: _jsxFileName, lineNumber: 74, columnNumber: 7 } },\nroutes.map(({ path, Component, props = {}, Fallback = Loading }) => ___EmotionJSX(Route, { path: path, key: path, __self: this, __source: { fileName: _jsxFileName, lineNumber: 75, columnNumber: 79 } },\n___EmotionJSX(Suspense, { fallback: ___EmotionJSX(Fallback, { __self: this, __source: { fileName: _jsxFileName, lineNumber: 76, columnNumber: 33 } }), __self: this, __source: { fileName: _jsxFileName, lineNumber: 76, columnNumber: 13 } },\n___EmotionJSX(ErrorBoundary, { __self: this, __source: { fileName: _jsxFileName, lineNumber: 77, columnNumber: 15 } },\n___EmotionJSX(Component, _extends({ user: user }, props, { __self: this, __source: { fileName: _jsxFileName, lineNumber: 78, columnNumber: 17 } }))))))),\n\n\n\n\n___EmotionJSX(ToastContainer, { __self: this, __source: { fileName: _jsxFileName, lineNumber: 83, columnNumber: 7 } })));const _default =\n\n\nhot(App);export default _default;;(function () {var reactHotLoader = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default : undefined;if (!reactHotLoader) {return;}reactHotLoader.register(container, \"container\", \"/home/ubuntu/my_plugin/superset/superset-frontend/src/views/App.tsx\");reactHotLoader.register(bootstrap, \"bootstrap\", \"/home/ubuntu/my_plugin/superset/superset-frontend/src/views/App.tsx\");reactHotLoader.register(user, \"user\", \"/home/ubuntu/my_plugin/superset/superset-frontend/src/views/App.tsx\");reactHotLoader.register(menu, \"menu\", \"/home/ubuntu/my_plugin/superset/superset-frontend/src/views/App.tsx\");reactHotLoader.register(common, \"common\", \"/home/ubuntu/my_plugin/superset/superset-frontend/src/views/App.tsx\");reactHotLoader.register(lastLocationPathname, \"lastLocationPathname\", \"/home/ubuntu/my_plugin/superset/superset-frontend/src/views/App.tsx\");reactHotLoader.register(RootContextProviders, \"RootContextProviders\", \"/home/ubuntu/my_plugin/superset/superset-frontend/src/views/App.tsx\");reactHotLoader.register(App, \"App\", \"/home/ubuntu/my_plugin/superset/superset-frontend/src/views/App.tsx\");reactHotLoader.register(_default, \"default\", \"/home/ubuntu/my_plugin/superset/superset-frontend/src/views/App.tsx\");})();;(function () {var leaveModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.leaveModule : undefined;leaveModule && leaveModule(module);})();","map":{"version":3,"sources":["/home/ubuntu/my_plugin/superset/superset-frontend/src/views/App.tsx"],"names":[],"mappings":"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","sourcesContent":["/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport React, { Suspense, useEffect } from 'react';\nimport { hot } from 'react-hot-loader/root';\nimport { Provider as ReduxProvider } from 'react-redux';\nimport {\n  BrowserRouter as Router,\n  Switch,\n  Route,\n  useLocation,\n} from 'react-router-dom';\nimport { DndProvider } from 'react-dnd';\nimport { HTML5Backend } from 'react-dnd-html5-backend';\nimport { QueryParamProvider } from 'use-query-params';\nimport { initFeatureFlags } from 'src/featureFlags';\nimport { ThemeProvider } from '@superset-ui/core';\nimport { DynamicPluginProvider } from 'src/components/DynamicPlugins';\nimport ErrorBoundary from 'src/components/ErrorBoundary';\nimport Loading from 'src/components/Loading';\nimport Menu from 'src/components/Menu/Menu';\nimport FlashProvider from 'src/components/FlashProvider';\nimport { theme } from 'src/preamble';\nimport ToastContainer from 'src/components/MessageToasts/ToastContainer';\nimport setupApp from 'src/setup/setupApp';\nimport { routes, isFrontendRoute } from 'src/views/routes';\nimport { Logger } from 'src/logger/LogUtils';\nimport { store } from './store';\n\nsetupApp();\n\nconst container = document.getElementById('app');\nconst bootstrap = JSON.parse(container?.getAttribute('data-bootstrap') ?? '{}');\nconst user = { ...bootstrap.user };\nconst menu = { ...bootstrap.common.menu_data };\nconst common = { ...bootstrap.common };\nlet lastLocationPathname: string;\ninitFeatureFlags(bootstrap.common.feature_flags);\n\nconst RootContextProviders: React.FC = ({ children }) => {\n  const location = useLocation();\n  useEffect(() => {\n    // reset performance logger timer start point to avoid soft navigation\n    // cause dashboard perf measurement problem\n    if (lastLocationPathname && lastLocationPathname !== location.pathname) {\n      Logger.markTimeOrigin();\n    }\n    lastLocationPathname = location.pathname;\n  }, [location.pathname]);\n\n  return (\n    <ThemeProvider theme={theme}>\n      <ReduxProvider store={store}>\n        <DndProvider backend={HTML5Backend}>\n          <FlashProvider messages={common.flash_messages}>\n            <DynamicPluginProvider>\n              <QueryParamProvider\n                ReactRouterRoute={Route}\n                stringifyOptions={{ encode: false }}\n              >\n                {children}\n              </QueryParamProvider>\n            </DynamicPluginProvider>\n          </FlashProvider>\n        </DndProvider>\n      </ReduxProvider>\n    </ThemeProvider>\n  );\n};\n\nconst App = () => (\n  <Router>\n    <RootContextProviders>\n      <Menu data={menu} isFrontendRoute={isFrontendRoute} />\n      <Switch>\n        {routes.map(({ path, Component, props = {}, Fallback = Loading }) => (\n          <Route path={path} key={path}>\n            <Suspense fallback={<Fallback />}>\n              <ErrorBoundary>\n                <Component user={user} {...props} />\n              </ErrorBoundary>\n            </Suspense>\n          </Route>\n        ))}\n      </Switch>\n      <ToastContainer />\n    </RootContextProviders>\n  </Router>\n);\n\nexport default hot(App);\n"],"sourceRoot":""},"metadata":{},"sourceType":"module"}