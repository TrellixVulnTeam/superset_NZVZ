{"ast":null,"code":"var _jsxFileName = \"/home/ubuntu/my_plugin/superset/superset-frontend/src/dashboard/components/CssEditor/index.jsx\";(function () {var enterModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.enterModule : undefined;enterModule && enterModule(module);})();var __signature__ = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default.signature : function (a) {return a;}; /**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { Menu, Dropdown } from 'src/common/components';\nimport Button from 'src/components/Button';\nimport { t, styled } from '@superset-ui/core';\nimport ModalTrigger from 'src/components/ModalTrigger';\nimport { CssEditor as AceCssEditor } from 'src/components/AsyncAceEditor';import { jsx as ___EmotionJSX } from \"@emotion/react\";\n\nconst StyledWrapper = styled.div`\n  ${({ theme }) => `\n    .css-editor-header {\n      display: flex;\n      flex-direction: row;\n      justify-content: space-between;\n      margin-bottom: ${theme.gridUnit * 2}px;\n\n      h5 {\n        margin-top: ${theme.gridUnit}px;\n      }\n    }\n    .css-editor {\n      border: 1px solid ${theme.colors.grayscale.light1};\n    }\n  `}\n`;\n\nconst propTypes = {\n  initialCss: PropTypes.string,\n  triggerNode: PropTypes.node.isRequired,\n  onChange: PropTypes.func,\n  templates: PropTypes.array };\n\n\nconst defaultProps = {\n  initialCss: '',\n  onChange: () => {} };\n\n\nclass CssEditor extends React.PureComponent {\n  constructor(props) {\n    super(props);\n    this.state = {\n      css: props.initialCss };\n\n    this.changeCss = this.changeCss.bind(this);\n    this.changeCssTemplate = this.changeCssTemplate.bind(this);\n  }\n\n  componentDidMount() {\n    AceCssEditor.preload();\n  }\n\n  changeCss(css) {\n    this.setState({ css }, () => {\n      this.props.onChange(css);\n    });\n  }\n\n  changeCssTemplate({ key }) {\n    this.changeCss(key);\n  }\n\n  renderTemplateSelector() {\n    if (this.props.templates) {\n      const menu =\n      ___EmotionJSX(Menu, { onClick: this.changeCssTemplate, __self: this, __source: { fileName: _jsxFileName, lineNumber: 84, columnNumber: 9 } },\n      this.props.templates.map((template) =>\n      ___EmotionJSX(Menu.Item, { key: template.css, __self: this, __source: { fileName: _jsxFileName, lineNumber: 86, columnNumber: 13 } }, template.label)));\n\n\n\n\n      return (\n        ___EmotionJSX(Dropdown, { overlay: menu, placement: \"bottomRight\", __self: this, __source: { fileName: _jsxFileName, lineNumber: 92, columnNumber: 9 } },\n        ___EmotionJSX(Button, { __self: this, __source: { fileName: _jsxFileName, lineNumber: 93, columnNumber: 11 } }, t('Load a CSS template'))));\n\n\n    }\n    return null;\n  }\n\n  render() {\n    return (\n      ___EmotionJSX(ModalTrigger, {\n        triggerNode: this.props.triggerNode,\n        modalTitle: t('CSS'),\n        modalBody:\n        ___EmotionJSX(StyledWrapper, { __self: this, __source: { fileName: _jsxFileName, lineNumber: 106, columnNumber: 11 } },\n        ___EmotionJSX(\"div\", { className: \"css-editor-header\", __self: this, __source: { fileName: _jsxFileName, lineNumber: 107, columnNumber: 13 } },\n        ___EmotionJSX(\"h5\", { __self: this, __source: { fileName: _jsxFileName, lineNumber: 108, columnNumber: 15 } }, t('Live CSS editor')),\n        this.renderTemplateSelector()),\n\n        ___EmotionJSX(AceCssEditor, {\n          className: \"css-editor\",\n          minLines: 12,\n          maxLines: 30,\n          onChange: this.changeCss,\n          height: \"200px\",\n          width: \"100%\",\n          editorProps: { $blockScrolling: true },\n          enableLiveAutocompletion: true,\n          value: this.state.css || '', __self: this, __source: { fileName: _jsxFileName, lineNumber: 111, columnNumber: 13 } })), __self: this, __source: { fileName: _jsxFileName, lineNumber: 102, columnNumber: 7 } }));\n\n\n\n\n\n  } // @ts-ignore\n  __reactstandin__regenerateByEval(key, code) {// @ts-ignore\n    this[key] = eval(code);}}\nCssEditor.propTypes = propTypes;\nCssEditor.defaultProps = defaultProps;const _default =\n\nCssEditor;export default _default;;(function () {var reactHotLoader = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default : undefined;if (!reactHotLoader) {return;}reactHotLoader.register(StyledWrapper, \"StyledWrapper\", \"/home/ubuntu/my_plugin/superset/superset-frontend/src/dashboard/components/CssEditor/index.jsx\");reactHotLoader.register(propTypes, \"propTypes\", \"/home/ubuntu/my_plugin/superset/superset-frontend/src/dashboard/components/CssEditor/index.jsx\");reactHotLoader.register(defaultProps, \"defaultProps\", \"/home/ubuntu/my_plugin/superset/superset-frontend/src/dashboard/components/CssEditor/index.jsx\");reactHotLoader.register(CssEditor, \"CssEditor\", \"/home/ubuntu/my_plugin/superset/superset-frontend/src/dashboard/components/CssEditor/index.jsx\");reactHotLoader.register(_default, \"default\", \"/home/ubuntu/my_plugin/superset/superset-frontend/src/dashboard/components/CssEditor/index.jsx\");})();;(function () {var leaveModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.leaveModule : undefined;leaveModule && leaveModule(module);})();","map":{"version":3,"sources":["/home/ubuntu/my_plugin/superset/superset-frontend/src/dashboard/components/CssEditor/index.jsx"],"names":["React","PropTypes","Menu","Dropdown","Button","t","styled","ModalTrigger","CssEditor","AceCssEditor","StyledWrapper","div","theme","gridUnit","colors","grayscale","light1","propTypes","initialCss","string","triggerNode","node","isRequired","onChange","func","templates","array","defaultProps","PureComponent","constructor","props","state","css","changeCss","bind","changeCssTemplate","componentDidMount","preload","setState","key","renderTemplateSelector","menu","map","template","label","render","$blockScrolling"],"mappings":"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","sourcesContent":["/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { Menu, Dropdown } from 'src/common/components';\nimport Button from 'src/components/Button';\nimport { t, styled } from '@superset-ui/core';\nimport ModalTrigger from 'src/components/ModalTrigger';\nimport { CssEditor as AceCssEditor } from 'src/components/AsyncAceEditor';\n\nconst StyledWrapper = styled.div`\n  ${({ theme }) => `\n    .css-editor-header {\n      display: flex;\n      flex-direction: row;\n      justify-content: space-between;\n      margin-bottom: ${theme.gridUnit * 2}px;\n\n      h5 {\n        margin-top: ${theme.gridUnit}px;\n      }\n    }\n    .css-editor {\n      border: 1px solid ${theme.colors.grayscale.light1};\n    }\n  `}\n`;\n\nconst propTypes = {\n  initialCss: PropTypes.string,\n  triggerNode: PropTypes.node.isRequired,\n  onChange: PropTypes.func,\n  templates: PropTypes.array,\n};\n\nconst defaultProps = {\n  initialCss: '',\n  onChange: () => {},\n};\n\nclass CssEditor extends React.PureComponent {\n  constructor(props) {\n    super(props);\n    this.state = {\n      css: props.initialCss,\n    };\n    this.changeCss = this.changeCss.bind(this);\n    this.changeCssTemplate = this.changeCssTemplate.bind(this);\n  }\n\n  componentDidMount() {\n    AceCssEditor.preload();\n  }\n\n  changeCss(css) {\n    this.setState({ css }, () => {\n      this.props.onChange(css);\n    });\n  }\n\n  changeCssTemplate({ key }) {\n    this.changeCss(key);\n  }\n\n  renderTemplateSelector() {\n    if (this.props.templates) {\n      const menu = (\n        <Menu onClick={this.changeCssTemplate}>\n          {this.props.templates.map(template => (\n            <Menu.Item key={template.css}>{template.label}</Menu.Item>\n          ))}\n        </Menu>\n      );\n\n      return (\n        <Dropdown overlay={menu} placement=\"bottomRight\">\n          <Button>{t('Load a CSS template')}</Button>\n        </Dropdown>\n      );\n    }\n    return null;\n  }\n\n  render() {\n    return (\n      <ModalTrigger\n        triggerNode={this.props.triggerNode}\n        modalTitle={t('CSS')}\n        modalBody={\n          <StyledWrapper>\n            <div className=\"css-editor-header\">\n              <h5>{t('Live CSS editor')}</h5>\n              {this.renderTemplateSelector()}\n            </div>\n            <AceCssEditor\n              className=\"css-editor\"\n              minLines={12}\n              maxLines={30}\n              onChange={this.changeCss}\n              height=\"200px\"\n              width=\"100%\"\n              editorProps={{ $blockScrolling: true }}\n              enableLiveAutocompletion\n              value={this.state.css || ''}\n            />\n          </StyledWrapper>\n        }\n      />\n    );\n  }\n}\n\nCssEditor.propTypes = propTypes;\nCssEditor.defaultProps = defaultProps;\n\nexport default CssEditor;\n"]},"metadata":{},"sourceType":"module"}