{"ast":null,"code":"(function () {var enterModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.enterModule : undefined;enterModule && enterModule(module);})();var __signature__ = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default.signature : function (a) {return a;}; /**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport { useEffect, useRef, useState } from 'react';\nexport function useElementOnScreen(options) {\n  const containerRef = useRef(null);\n  const [isSticky, setIsSticky] = useState(false);\n  const callback = (entries) => {\n    const [entry] = entries;\n    setIsSticky(entry.intersectionRatio < 1);\n  };\n  useEffect(() => {\n    const observer = new IntersectionObserver(callback, options);\n    const element = containerRef.current;\n    if (element) {\n      observer.observe(element);\n    }\n    return () => {\n      if (element) {\n        observer.unobserve(element);\n      }\n    };\n  }, [containerRef, options]);\n  return [containerRef, isSticky];\n}__signature__(useElementOnScreen, \"useRef{containerRef}\\nuseState{[isSticky, setIsSticky](false)}\\nuseEffect{}\");;(function () {var reactHotLoader = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default : undefined;if (!reactHotLoader) {return;}reactHotLoader.register(useElementOnScreen, \"useElementOnScreen\", \"/home/ubuntu/my_plugin/superset/superset-frontend/src/common/hooks/useElementOnScreen/index.ts\");})();;(function () {var leaveModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.leaveModule : undefined;leaveModule && leaveModule(module);})();","map":{"version":3,"sources":["/home/ubuntu/my_plugin/superset/superset-frontend/src/common/hooks/useElementOnScreen/index.ts"],"names":[],"mappings":"wSAAA;;;;;;;;;;;;;;;;;AAiBG;AACH,SAAS,SAAT,EAAoB,MAApB,EAA4B,QAA5B,QAAuD,OAAvD;AAEA,OAAM,SAAU,kBAAV,CACJ,OADI,EAC6B;AAEjC,QAAM,YAAY,GAAG,MAAM,CAAI,IAAJ,CAA3B;AACA,QAAM,CAAC,QAAD,EAAW,WAAX,IAA0B,QAAQ,CAAC,KAAD,CAAxC;AAEA,QAAM,QAAQ,GAAG,CAAC,OAAD,KAAyC;AACxD,UAAM,CAAC,KAAD,IAAU,OAAhB;AACA,IAAA,WAAW,CAAC,KAAK,CAAC,iBAAN,GAA0B,CAA3B,CAAX;AACD,GAHD;AAKA,EAAA,SAAS,CAAC,MAAK;AACb,UAAM,QAAQ,GAAG,IAAI,oBAAJ,CAAyB,QAAzB,EAAmC,OAAnC,CAAjB;AACA,UAAM,OAAO,GAAG,YAAY,CAAC,OAA7B;AACA,QAAI,OAAJ,EAAa;AACX,MAAA,QAAQ,CAAC,OAAT,CAAiB,OAAjB;AACD;AACD,WAAO,MAAK;AACV,UAAI,OAAJ,EAAa;AACX,QAAA,QAAQ,CAAC,SAAT,CAAmB,OAAnB;AACD;AACF,KAJD;AAKD,GAXQ,EAWN,CAAC,YAAD,EAAe,OAAf,CAXM,CAAT;AAaA,SAAO,CAAC,YAAD,EAAe,QAAf,CAAP;AACD,C,cAzBe,kB,kQAAA,kB","sourcesContent":["/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport { useEffect, useRef, useState, RefObject } from 'react';\n\nexport function useElementOnScreen<T extends Element>(\n  options: IntersectionObserverInit,\n): [RefObject<T>, boolean] {\n  const containerRef = useRef<T>(null);\n  const [isSticky, setIsSticky] = useState(false);\n\n  const callback = (entries: IntersectionObserverEntry[]) => {\n    const [entry] = entries;\n    setIsSticky(entry.intersectionRatio < 1);\n  };\n\n  useEffect(() => {\n    const observer = new IntersectionObserver(callback, options);\n    const element = containerRef.current;\n    if (element) {\n      observer.observe(element);\n    }\n    return () => {\n      if (element) {\n        observer.unobserve(element);\n      }\n    };\n  }, [containerRef, options]);\n\n  return [containerRef, isSticky];\n}\n"],"sourceRoot":""},"metadata":{},"sourceType":"module"}