{"ast":null,"code":"import { css as _css } from \"@emotion/react\"; /**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport ButtonGroup from 'src/components/ButtonGroup';\nimport { t, useTheme } from '@superset-ui/core';\n\nimport { Tooltip } from 'src/components/Tooltip';\nimport Button from 'src/components/Button';import { jsx as ___EmotionJSX } from \"@emotion/react\";\n\nconst propTypes = {\n  canAdd: PropTypes.bool.isRequired,\n  onQuery: PropTypes.func.isRequired,\n  onSave: PropTypes.func,\n  onStop: PropTypes.func,\n  loading: PropTypes.bool,\n  chartIsStale: PropTypes.bool,\n  errorMessage: PropTypes.node };\n\n\nconst defaultProps = {\n  onStop: () => {},\n  onSave: () => {} };\n\n\nexport default function QueryAndSaveBtns({\n  canAdd,\n  onQuery,\n  onSave,\n  onStop,\n  loading,\n  chartIsStale,\n  errorMessage })\n{\n  let qryButtonStyle = 'tertiary';\n  if (errorMessage) {\n    qryButtonStyle = 'danger';\n  } else if (chartIsStale) {\n    qryButtonStyle = 'primary';\n  }\n\n  const saveButtonDisabled = errorMessage ? true : loading;\n  const qryOrStopButton = loading ?\n  ___EmotionJSX(Button, {\n    onClick: onStop,\n    buttonStyle: \"warning\",\n    buttonSize: \"small\",\n    disabled: !canAdd },\n\n  ___EmotionJSX(\"i\", { className: \"fa fa-stop-circle-o\" }), \" \", t('Stop')) :\n\n\n  ___EmotionJSX(Button, {\n    buttonSize: \"small\",\n    onClick: onQuery,\n    buttonStyle: qryButtonStyle,\n    disabled: !!errorMessage },\n\n\n  ___EmotionJSX(\"i\", { className: \"fa fa-bolt\" }), \" \", t('Run'));\n\n\n\n  const theme = useTheme();\n\n  return (\n    ___EmotionJSX(\"div\", {\n      css: /*#__PURE__*/_css({\n        display: 'flex',\n        flexShrink: 0,\n        flexDirection: 'row',\n        alignItems: 'center',\n        paddingTop: theme.gridUnit * 2,\n        paddingRight: theme.gridUnit * 2,\n        paddingBottom: 0,\n        paddingLeft: theme.gridUnit * 4,\n        '& button': {\n          width: 100 },\n\n        '.errMsg': {\n          marginLeft: theme.gridUnit * 4 } }, process.env.NODE_ENV === \"production\" ? \"\" : \";label:QueryAndSaveBtns;\", process.env.NODE_ENV === \"production\" ? \"\" : \"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL3VidW50dS9teV9wbHVnaW4vc3VwZXJzZXQvc3VwZXJzZXQtZnJvbnRlbmQvc3JjL2V4cGxvcmUvY29tcG9uZW50cy9RdWVyeUFuZFNhdmVCdG5zLmpzeCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFtRk0iLCJmaWxlIjoiL2hvbWUvdWJ1bnR1L215X3BsdWdpbi9zdXBlcnNldC9zdXBlcnNldC1mcm9udGVuZC9zcmMvZXhwbG9yZS9jb21wb25lbnRzL1F1ZXJ5QW5kU2F2ZUJ0bnMuanN4Iiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBMaWNlbnNlZCB0byB0aGUgQXBhY2hlIFNvZnR3YXJlIEZvdW5kYXRpb24gKEFTRikgdW5kZXIgb25lXG4gKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxpY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGVcbiAqIGRpc3RyaWJ1dGVkIHdpdGggdGhpcyB3b3JrIGZvciBhZGRpdGlvbmFsIGluZm9ybWF0aW9uXG4gKiByZWdhcmRpbmcgY29weXJpZ2h0IG93bmVyc2hpcC4gIFRoZSBBU0YgbGljZW5zZXMgdGhpcyBmaWxlXG4gKiB0byB5b3UgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlXG4gKiBcIkxpY2Vuc2VcIik7IHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2VcbiAqIHdpdGggdGhlIExpY2Vuc2UuICBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZyxcbiAqIHNvZnR3YXJlIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuXG4gKiBcIkFTIElTXCIgQkFTSVMsIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWVxuICogS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlXG4gKiBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kIGxpbWl0YXRpb25zXG4gKiB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBQcm9wVHlwZXMgZnJvbSAncHJvcC10eXBlcyc7XG5pbXBvcnQgQnV0dG9uR3JvdXAgZnJvbSAnc3JjL2NvbXBvbmVudHMvQnV0dG9uR3JvdXAnO1xuaW1wb3J0IHsgdCwgdXNlVGhlbWUgfSBmcm9tICdAc3VwZXJzZXQtdWkvY29yZSc7XG5cbmltcG9ydCB7IFRvb2x0aXAgfSBmcm9tICdzcmMvY29tcG9uZW50cy9Ub29sdGlwJztcbmltcG9ydCBCdXR0b24gZnJvbSAnc3JjL2NvbXBvbmVudHMvQnV0dG9uJztcblxuY29uc3QgcHJvcFR5cGVzID0ge1xuICBjYW5BZGQ6IFByb3BUeXBlcy5ib29sLmlzUmVxdWlyZWQsXG4gIG9uUXVlcnk6IFByb3BUeXBlcy5mdW5jLmlzUmVxdWlyZWQsXG4gIG9uU2F2ZTogUHJvcFR5cGVzLmZ1bmMsXG4gIG9uU3RvcDogUHJvcFR5cGVzLmZ1bmMsXG4gIGxvYWRpbmc6IFByb3BUeXBlcy5ib29sLFxuICBjaGFydElzU3RhbGU6IFByb3BUeXBlcy5ib29sLFxuICBlcnJvck1lc3NhZ2U6IFByb3BUeXBlcy5ub2RlLFxufTtcblxuY29uc3QgZGVmYXVsdFByb3BzID0ge1xuICBvblN0b3A6ICgpID0+IHt9LFxuICBvblNhdmU6ICgpID0+IHt9LFxufTtcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gUXVlcnlBbmRTYXZlQnRucyh7XG4gIGNhbkFkZCxcbiAgb25RdWVyeSxcbiAgb25TYXZlLFxuICBvblN0b3AsXG4gIGxvYWRpbmcsXG4gIGNoYXJ0SXNTdGFsZSxcbiAgZXJyb3JNZXNzYWdlLFxufSkge1xuICBsZXQgcXJ5QnV0dG9uU3R5bGUgPSAndGVydGlhcnknO1xuICBpZiAoZXJyb3JNZXNzYWdlKSB7XG4gICAgcXJ5QnV0dG9uU3R5bGUgPSAnZGFuZ2VyJztcbiAgfSBlbHNlIGlmIChjaGFydElzU3RhbGUpIHtcbiAgICBxcnlCdXR0b25TdHlsZSA9ICdwcmltYXJ5JztcbiAgfVxuXG4gIGNvbnN0IHNhdmVCdXR0b25EaXNhYmxlZCA9IGVycm9yTWVzc2FnZSA/IHRydWUgOiBsb2FkaW5nO1xuICBjb25zdCBxcnlPclN0b3BCdXR0b24gPSBsb2FkaW5nID8gKFxuICAgIDxCdXR0b25cbiAgICAgIG9uQ2xpY2s9e29uU3RvcH1cbiAgICAgIGJ1dHRvblN0eWxlPVwid2FybmluZ1wiXG4gICAgICBidXR0b25TaXplPVwic21hbGxcIlxuICAgICAgZGlzYWJsZWQ9eyFjYW5BZGR9XG4gICAgPlxuICAgICAgPGkgY2xhc3NOYW1lPVwiZmEgZmEtc3RvcC1jaXJjbGUtb1wiIC8+IHt0KCdTdG9wJyl9XG4gICAgPC9CdXR0b24+XG4gICkgOiAoXG4gICAgPEJ1dHRvblxuICAgICAgYnV0dG9uU2l6ZT1cInNtYWxsXCJcbiAgICAgIG9uQ2xpY2s9e29uUXVlcnl9XG4gICAgICBidXR0b25TdHlsZT17cXJ5QnV0dG9uU3R5bGV9XG4gICAgICBkaXNhYmxlZD17ISFlcnJvck1lc3NhZ2V9XG4gICAgICBkYXRhLXRlc3Q9XCJydW4tcXVlcnktYnV0dG9uXCJcbiAgICA+XG4gICAgICA8aSBjbGFzc05hbWU9XCJmYSBmYS1ib2x0XCIgLz4ge3QoJ1J1bicpfVxuICAgIDwvQnV0dG9uPlxuICApO1xuXG4gIGNvbnN0IHRoZW1lID0gdXNlVGhlbWUoKTtcblxuICByZXR1cm4gKFxuICAgIDxkaXZcbiAgICAgIGNzcz17e1xuICAgICAgICBkaXNwbGF5OiAnZmxleCcsXG4gICAgICAgIGZsZXhTaHJpbms6IDAsXG4gICAgICAgIGZsZXhEaXJlY3Rpb246ICdyb3cnLFxuICAgICAgICBhbGlnbkl0ZW1zOiAnY2VudGVyJyxcbiAgICAgICAgcGFkZGluZ1RvcDogdGhlbWUuZ3JpZFVuaXQgKiAyLFxuICAgICAgICBwYWRkaW5nUmlnaHQ6IHRoZW1lLmdyaWRVbml0ICogMixcbiAgICAgICAgcGFkZGluZ0JvdHRvbTogMCxcbiAgICAgICAgcGFkZGluZ0xlZnQ6IHRoZW1lLmdyaWRVbml0ICogNCxcbiAgICAgICAgJyYgYnV0dG9uJzoge1xuICAgICAgICAgIHdpZHRoOiAxMDAsXG4gICAgICAgIH0sXG4gICAgICAgICcuZXJyTXNnJzoge1xuICAgICAgICAgIG1hcmdpbkxlZnQ6IHRoZW1lLmdyaWRVbml0ICogNCxcbiAgICAgICAgfSxcbiAgICAgIH19XG4gICAgPlxuICAgICAgPEJ1dHRvbkdyb3VwIGNsYXNzTmFtZT1cInF1ZXJ5LWFuZC1zYXZlXCI+XG4gICAgICAgIHtxcnlPclN0b3BCdXR0b259XG4gICAgICAgIDxCdXR0b25cbiAgICAgICAgICBidXR0b25TdHlsZT1cInRlcnRpYXJ5XCJcbiAgICAgICAgICBidXR0b25TaXplPVwic21hbGxcIlxuICAgICAgICAgIGRhdGEtdGFyZ2V0PVwiI3NhdmVfbW9kYWxcIlxuICAgICAgICAgIGRhdGEtdG9nZ2xlPVwibW9kYWxcIlxuICAgICAgICAgIGRpc2FibGVkPXtzYXZlQnV0dG9uRGlzYWJsZWR9XG4gICAgICAgICAgb25DbGljaz17b25TYXZlfVxuICAgICAgICAgIGRhdGEtdGVzdD1cInF1ZXJ5LXNhdmUtYnV0dG9uXCJcbiAgICAgICAgPlxuICAgICAgICAgIDxpIGNsYXNzTmFtZT1cImZhIGZhLXBsdXMtY2lyY2xlXCIgLz4ge3QoJ1NhdmUnKX1cbiAgICAgICAgPC9CdXR0b24+XG4gICAgICA8L0J1dHRvbkdyb3VwPlxuICAgICAge2Vycm9yTWVzc2FnZSAmJiAoXG4gICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImVyck1zZ1wiPlxuICAgICAgICAgIHsnICd9XG4gICAgICAgICAgPFRvb2x0aXBcbiAgICAgICAgICAgIGlkPVwicXVlcnktZXJyb3ItdG9vbHRpcFwiXG4gICAgICAgICAgICBwbGFjZW1lbnQ9XCJyaWdodFwiXG4gICAgICAgICAgICB0aXRsZT17ZXJyb3JNZXNzYWdlfVxuICAgICAgICAgID5cbiAgICAgICAgICAgIDxpIGNsYXNzTmFtZT1cImZhIGZhLWV4Y2xhbWF0aW9uLWNpcmNsZSB0ZXh0LWRhbmdlciBmYS1sZ1wiIC8+XG4gICAgICAgICAgPC9Ub29sdGlwPlxuICAgICAgICA8L3NwYW4+XG4gICAgICApfVxuICAgIDwvZGl2PlxuICApO1xufVxuXG5RdWVyeUFuZFNhdmVCdG5zLnByb3BUeXBlcyA9IHByb3BUeXBlcztcblF1ZXJ5QW5kU2F2ZUJ0bnMuZGVmYXVsdFByb3BzID0gZGVmYXVsdFByb3BzO1xuIl19 */\") },\n\n\n\n    ___EmotionJSX(ButtonGroup, { className: \"query-and-save\" },\n    qryOrStopButton,\n    ___EmotionJSX(Button, {\n      buttonStyle: \"tertiary\",\n      buttonSize: \"small\",\n      \"data-target\": \"#save_modal\",\n      \"data-toggle\": \"modal\",\n      disabled: saveButtonDisabled,\n      onClick: onSave },\n\n\n    ___EmotionJSX(\"i\", { className: \"fa fa-plus-circle\" }), \" \", t('Save'))),\n\n\n    errorMessage &&\n    ___EmotionJSX(\"span\", { className: \"errMsg\" },\n    ' ',\n    ___EmotionJSX(Tooltip, {\n      id: \"query-error-tooltip\",\n      placement: \"right\",\n      title: errorMessage },\n\n    ___EmotionJSX(\"i\", { className: \"fa fa-exclamation-circle text-danger fa-lg\" })))));\n\n\n\n\n\n}\n\nQueryAndSaveBtns.propTypes = propTypes;\nQueryAndSaveBtns.defaultProps = defaultProps;","map":null,"metadata":{},"sourceType":"module"}